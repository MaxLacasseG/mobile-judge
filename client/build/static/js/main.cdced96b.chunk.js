(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(82)},52:function(e,t,a){},53:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);a(47);var n=a(0),r=a.n(n),i=a(22),o=a.n(i),s=(a(52),a(2)),l=a(3),c=a(5),m=a(4),p=a(6),u=(a(53),a(7)),d=a(85),f=a(87),g=a(42),h=a(18),E=a(41),v=a(11),b="GET_ERRORS",y="CLEAR_ERRORS",N="SET_ACTION_RESPONSE",j=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},C={isAuthenticated:!1,user:{}},O={adminList:[],selectedAdmin:{}},S={selectedFinal:{},finalList:[],isActive:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_FINAL":return Object(v.a)({},e,{selectedFinal:{}});case"GET_ALL_FINALS":return Object(v.a)({},e,{finalList:t.payload});case"CREATE_FINAL":case"SELECT_FINAL":return Object(v.a)({},e,{selectedFinal:t.payload});case"IS_FINAL_ACTIVE":return Object(v.a)({},e,{isActive:t.payload});default:return e}},I=a(20),x={selectedProject:{no:"",participant1:"",participant2:"",categorie:"",classe:"",type:"",titre:"",jugement:{},information:{projectInformation:{type:""}}},projectsList:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return Object(v.a)({},e,{projectsList:[].concat(Object(I.a)(e.projectsList),[t.payload])});case"GET_PROJECTS_LIST":case"GET_JUDGE_PROJECTS":return Object(v.a)({},e,{projectsList:t.payload});case"GET_PROJECT":return Object(v.a)({},e,{selectedProject:t.payload});case"CLEAR_PROJECTS_LIST":return Object(v.a)({},e,{projectsList:[]});case"CLEAR_PROJECT_INFOS":return Object(v.a)({},e,{selectedProject:x.selectedProject});default:return e}},w={selectedJudge:{isAuthenticated:!1,infos:{},finale:"",prenom:"",nom:"",numero:"",tel:"",courriel:""},judgesList:[]},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_JUDGE":return Object(v.a)({},e,{judgesList:[].concat(Object(I.a)(e.judgesList),[t.payload])});case"GET_JUDGES_PWD":case"GET_JUDGES_LIST":return Object(v.a)({},e,{judgesList:t.payload});case"CLEAR_JUDGES_LIST":return Object(v.a)({},e,{judgesList:[]});default:return e}},T={},R={},P={},_=Object(h.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(v.a)({},e,{isAuthenticated:!j(t.payload),user:t.payload});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_ADMIN":return Object(v.a)({},e,{adminList:t.payload});case"ADD_NEW_ADMIN":case"UPDATE_ADMIN":case"DELETE_ADMIN":return Object(v.a)({},e,{selectedAdmin:t.payload});case"CLEAR_SELECTED_ADMIN":return Object(v.a)({},e,{selectedAdmin:{}});default:return e}},final:A,project:k,judge:F,errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload;case y:return T;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MESSAGE":return t.payload;default:return e}},action:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return t.payload;case"CLEAR_ACTION_RESPONSE":return P;default:return e}}}),L=[E.a],D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,J=Object(h.e)(_,{},D(h.a.apply(void 0,L))),M=a(9),B=a.n(M),G=function(e){e?B.a.defaults.headers.common.Authorization=e:delete B.a.defaults.headers.common.Authorization},q=a(21),U=a.n(q),V=function(e){return{type:"SET_CURRENT_USER",payload:e}},z=function(){return function(e){localStorage.removeItem("jwtToken"),G(!1),e(V({})),window.location.href="/admin"}},H=a(26),W=a(84),Q=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(H.a)(e,["component","auth"]);return r.a.createElement(g.a,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated&&"SUPER_ADMIN"===a.user.type?r.a.createElement(t,e):r.a.createElement(W.a,{to:"/admin"})}}))}),X=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(H.a)(e,["component","auth"]);return r.a.createElement(g.a,Object.assign({},n,{render:function(e){return!0!==a.isAuthenticated||"SUPER_ADMIN"!==a.user.type&&"ADMIN"!==a.user.type?r.a.createElement(W.a,{to:"/admin"}):r.a.createElement(t,e)}}))}),Z=function(e){return{type:"SET_CURRENT_USER",payload:e}},$=function(){return function(e){localStorage.removeItem("jwtToken"),G(!1),e(Z({})),window.location.href="/"}},K=function(e){return function(t){B.a.get("/api/judge/final-id",{params:{finalId:e}}).then(function(e){t({type:N,payload:{type:"GET_JUDGES_LIST",response:"success"}}),t({type:y}),t({type:"GET_JUDGES_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:N,payload:{type:"GET_JUDGES_LIST",response:"fail"}}),t({type:b,payload:e.response.data})})}},Y=function(){return function(e){e({type:"CLEAR_JUDGES_LIST"})}},ee=function(e){return function(t){B.a.get("/api/judge/pwd",{params:{finalId:e}}).then(function(e){t({type:"GET_JUDGES_PWD",payload:e.data}),t({type:N,payload:{type:"GET_JUDGES_PWD",response:"success"}}),t({type:y})}).catch(function(e){t({type:N,payload:{type:"GET_JUDGES_PWD",response:"fail"}}),t({type:b,payload:e.response.data})})}},te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).OnLogout=function(){a.props.LogoutJudge()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"bg"},r.a.createElement("div",{className:"container p-5 row"},r.a.createElement("div",{className:"col-12 col-md-6 text-left logo-container d-md-none"},r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:"logo jugement mobile"})),r.a.createElement("h1",null,"Le jugement est maintenant termin\xe9"),r.a.createElement("p",{className:"text-justify"},"Si vous n'avez pas eu le temps de terminer de saisir toutes les notes, veuillez communiquer avec la personne responsable ou le juge en chef de la finale."),r.a.createElement("div",{className:"btn btn-reseau btn-block text-center",onClick:this.OnLogout},"Quitter")))}}]),t}(n.Component),ae=Object(u.b)(null,{LogoutJudge:$})(te),ne=function(e){return function(t){B.a.get("/api/final/active",{params:{finalId:e}}).then(function(e){t({type:"IS_FINAL_ACTIVE",payload:e.data})}).catch(function(e){t({type:b,payload:e.response.data})})}},re=function(e){return function(t){B.a.get("/api/final/id",{params:{finalId:e}}).then(function(e){t({type:N,payload:{type:"SELECT_FINAL",response:"success"}}),t({type:"SELECT_FINAL",payload:e.data})}).catch(function(e){t({type:N,payload:{type:"SELECT_FINAL",response:"fail"}}),t({type:b,payload:e.response.data})})}},ie=function(e,t){return function(a){a(t?oe():se(e))}},oe=function(){return function(e){B.a.get("/api/final/all").then(function(t){e({type:y}),e({type:"GET_ALL_FINALS",payload:t.data})}).catch(function(t){e({type:N,payload:{type:"GET_ALL_FINALS",response:"fail"}}),e({type:b,payload:t.response.data})})}},se=function(e){return function(t){B.a.get("/api/final/admin-id",{params:{adminId:e}}).then(function(e){t({type:y}),t({type:"GET_ALL_FINALS",payload:e.data})}).catch(function(e){t({type:N,payload:{type:"GET_ALL_FINALS",response:"fail"}}),t({type:b,payload:e.response.data})})}},le=function(e){return function(t){B.a.post("/api/final/pairing",e).then(function(e){t({type:N,payload:{type:"SAVE_FINAL_PAIRING",response:"success"}}),t(re(e.data._id))}).catch(function(e){t({type:N,payload:{type:"SAVE_FINAL_PAIRING",response:"fail"}}),t({type:b,payload:e.response.data})})}},ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.CheckFinalActive(a.props.auth.user.finalId)},a.componentDidUpdate=function(e,t){e.final.isActive!==a.props.final.isActive&&a.setState({isActive:a.props.final.isActive})},a.state={isActive:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=this.state.isActive;return r.a.createElement(n.Fragment,null,t?r.a.createElement(g.a,Object.assign({},this.props,{render:function(t){return!0===e.isAuthenticated&&"JUDGE"===e.user.type?r.a.createElement(n.Component,t):r.a.createElement(W.a,{to:"/"})}})):r.a.createElement(ae,null))}}]),t}(n.Component),me=Object(u.b)(function(e){return{auth:e.auth,final:e.final}},{CheckFinalActive:ne})(ce),pe=a(31),ue=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4"},"404 Page introuvable"),r.a.createElement("p",{className:"text lead"},"D\xe9sol\xe9 la page demand\xe9e n'existe pas"),r.a.createElement(pe.a,{to:"/"},"Retour \xe0 la page d'accueil"))},de=a(83),fe=a(86),ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(){a.props.logoutUser(a.props.history)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.props.final&&this.props.final.selectedFinal.pairing,a=r.a.createElement("ul",{className:"nav nav-bar justify-content-around align-items-center px-5 py-3 row"},r.a.createElement("div",{className:"col-md-6 d-flex justify-content-around align-items-center"},r.a.createElement(de.a,{to:"/admin/panneau-controle",className:"px-3 icon-button"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fas fa-reply-all"})," Retour")),r.a.createElement(de.a,{to:"/admin/finale/".concat(this.props.id,"/infos"),activeClassName:"selected",className:"px-3 icon-button"},r.a.createElement("i",{className:"fas fa-cogs"})," Informations"),t&&r.a.createElement(n.Fragment,null,this.props.final.selectedFinal.isSuperExpo&&r.a.createElement(de.a,{to:"/admin/finale/".concat(this.props.id,"/rapports-ecrits"),activeClassName:"selected",className:"px-3 icon-button"},r.a.createElement("i",{className:"fas fa-clipboard-list"})," Rapports \xe9crits"),r.a.createElement(de.a,{to:"/admin/finale/".concat(this.props.id,"/vue-projets"),activeClassName:"selected",className:"px-3 icon-button"},r.a.createElement("i",{className:"fas fa-user-friends "})," Vue par projets"))),r.a.createElement("div",{className:"col-md-6 d-flex justify-content-around align-items-center"},t&&r.a.createElement(n.Fragment,null,r.a.createElement(de.a,{to:"/admin/finale/".concat(this.props.id,"/vue-juges"),activeClassName:"selected",className:"px-3 icon-button"},r.a.createElement("i",{className:"fas fa-clipboard-list"})," Vue par juges"),r.a.createElement(de.a,{to:"/admin/finale/".concat(this.props.id,"/exportation"),activeClassName:"selected",className:"px-3 icon-button"},r.a.createElement("i",{className:"fas fa-clipboard-list"})," Exportation"))));return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"nav nav-bar justify-content-around align-items-center p-3"},r.a.createElement("li",null,r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:""})),r.a.createElement("li",{className:"text-center"},r.a.createElement("h1",null,"Portail gestionnaire"),r.a.createElement("h3",null,this.props.pageTitle),r.a.createElement("h6",null,this.props.finalName)),e?r.a.createElement("li",{className:"nav-item text-right "},r.a.createElement(pe.a,{className:"nav-link",to:"#",onClick:this.onLogout},"D\xe9connexion"),r.a.createElement("small",null,"Connect\xe9 en tant que"," ",this.props.auth.user.firstName+" "+this.props.auth.user.lastName),r.a.createElement("br",null),r.a.createElement("small",null,this.props.auth.user.isAdmin?"Super administrateur":"Administrateur")):null),a)}}]),t}(n.Component),he=Object(u.b)(function(e){return{auth:e.auth,final:e.final}},{logoutUser:z})(Object(fe.a)(ge)),Ee=a(17),ve=function(){return function(e){e({type:y})}},be=function(){return function(e){e({type:"CLEAR_ACTION_RESPONSE"})}},ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).OnFileSelect=function(e){a.setState({file:e.target.files[0]})},a.OnImportData=function(){if(""!==a.state.file&&void 0!==a.state.file){var e=new FileReader,t=Object(Ee.a)(a);e.onload=function(n){var r=e.result;t.setState({pairingInfos:r},function(){a.ConvertTextToJson()})},e.readAsText(a.state.file)}},a.ConvertTextToJson=function(){var e={},t={};a.state.pairingInfos.split(/\n|\r\n/).map(function(a,n){if("P"===a.substr(0,1)||"#"===a.substr(0,1)||""===a.substr(0,1)||"&"===a.substr(0,1))return null;var r=a.split(/;/);return e.hasOwnProperty(r[0])||(e[r[0]]={}),e[r[0]][r[2]]={project:parseInt(r[0]),period:parseInt(r[2]),judge:void 0!==r[3]?parseInt(r[3]):void 0},void 0!==r[3]&&(t.hasOwnProperty(r[3])?t[r[3]][r[2]]={project:parseInt(r[0]),period:parseInt(r[2]),judge:parseInt(r[3])}:(t[r[3]]={},t[r[3]][r[2]]={project:parseInt(r[0]),period:parseInt(r[2]),judge:parseInt(r[3])})),r});var n={pairingByProjects:e,pairingByJudges:t},r=a.ResetResults(),i={_id:a.props.finalId,pairing:n,results:r};a.props.SaveFinalPairing(i)},a.ResetResults=function(){var e={};return a.props.project.projectsList.map(function(t){void 0!==t.number&&(e[t.number]={})}),e},a.OnSubmit=function(e){e.preventDefault()},a.state={pairingInfos:{},file:"",modal:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.errors,i=this.props.final.selectedFinal,o=j(i.pairing)?r.a.createElement("div",{className:"alert alert-warning mx-auto text-center"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),"\u2003 Aucun pairage n'est actuellement enregistr\xe9 pour cette finale")):r.a.createElement("div",{className:"alert mx-auto text-center"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-check"}),"\u2003 Pairage import\xe9")),s=r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show mt-3",role:"alert"},a.msg,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearErrors},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Finale ajout\xe9e",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")));return r.a.createElement(n.Fragment,null,this.state.modal,r.a.createElement("div",{className:"p-3"},r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fas fa-plus-circle"}),"  ","Importer le fichier de pairage"),o,r.a.createElement("form",{onSubmit:this.OnSubmit},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"pairingJsonImport",className:"btn btn-accent2 btn-lg btn-block"},"S\xe9lectionner le fichier"),r.a.createElement("input",{id:"pairingJsonImport",name:"file",type:"file",accept:"text/plain",multiple:!1,onChange:this.OnFileSelect,style:{display:"none"}}),r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-exclamation-circle fa-sm"})," Veuiller choisir le fichier .txt depuis le logiciel R\xe9partition dans le dossier version"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 offset-3"},r.a.createElement("p",null,r.a.createElement("small",null,"Nom du fichier s\xe9lectionn\xe9"),r.a.createElement("br",null),j(this.state.file.name)?r.a.createElement("em",null,"Aucun fichier s\xe9lectionn\xe9"):this.state.file.name))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 mx-auto"},r.a.createElement("input",{type:"submit",className:"btn btn-block",name:"jsonSubmit",id:"jsonSubmit",value:"Assigner des juges aux projets",onClick:this.OnImportData}),r.a.createElement("p",null,r.a.createElement("small",null,"Attention, ceci risque r\xe9initialise la finale et efface les jugements effectu\xe9s!"))))),r.a.createElement("hr",null),a.msg&&s,"CREATE_FINAL"===t.type&&"success"===t.response?l:null,r.a.createElement("button",{id:"createModalBtn",className:"icon-button","data-target":"#createFinalModal","data-toggle":"modal",style:{display:"none"}})))}}]),t}(n.Component),Ne=Object(u.b)(function(e){return{action:e.action,errors:e.errors,project:e.project,final:e.final}},{SaveFinalPairing:le,ClearResponse:be,ClearErrors:ve})(ye),je=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.GetJudgesPwd(a.props.final.selectedFinal._id)},a.componentWillUnmount=function(){},a.ToggleBlur=function(e){var t=e.target.parentNode.parentNode.nextSibling,a=t.classList.contains("pwd");document.querySelectorAll("div.judge-pwd").forEach(function(e){e.classList.add("pwd")}),a?t.classList.remove("pwd"):t.classList.add("pwd")},a.SortNullNumber=function(){return function(e,t){return null===e.number?1:null===t.number?-1:void 0}},a.OnHandleClick=function(e){var t=e.currentTarget.parentNode.parentNode,n=t.querySelector(".edit-icon"),r=t.querySelector(".number-zone");!0===r.isContentEditable?a.EditModeOff(t,n,r):a.EditModeOn(t,n,r)},a.EditModeOn=function(e,t,n){a.ResetAll(),t.classList.remove("fa-edit"),t.classList.add("fa-save"),e.classList.add("edit-mode"),n.contentEditable="true"},a.EditModeOff=function(e,t,n){t.classList.remove("fa-save"),t.classList.add("fa-edit"),e.classList.remove("edit-mode"),n.contentEditable="false",parseInt(e.innerText)||(n.innerText=""),a.props.SetJudgeNumber(n.innerText,e.dataset.judgeid,a.props.final.selectedFinal._id)},a.ResetAll=function(){var e=document.querySelectorAll(".edit-mode"),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value,l=s.querySelector(".edit-icon"),c=s.querySelector(".number-zone");a.EditModeOff(s,l,c)}}catch(m){n=!0,r=m}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.judge.judgesList.sort(this.SortNullNumber()).map(function(t){return r.a.createElement("div",{className:"row judge-row pb-3",key:t._id},r.a.createElement("div",{className:"col-md-2 judge-col username judge-number","data-number":t.number,"data-judgeid":t.judgeId},r.a.createElement("span",null,r.a.createElement("i",{onClick:e.OnHandleClick,"data-judgeid":t.judgeId,className:"p-2 mr-2 edit-icon fas fa-edit"})),r.a.createElement("div",{className:"number-zone"},t.number)),r.a.createElement("div",{className:"col-md judge-col username"},t.information.generalInformation.firstName," ",t.information.generalInformation.lastName),r.a.createElement("div",{className:"col-md-2 judge-col username"},t.information.generalInformation.phone.phoneMobile),r.a.createElement("div",{className:"col-md judge-col username"},t.username),r.a.createElement("div",{className:"col-md-2 row judge-col"},r.a.createElement("div",{className:"mr-3 px-3"},r.a.createElement("span",null,r.a.createElement("i",{onClick:e.ToggleBlur.bind(e),className:"fas fa-eye"}))),r.a.createElement("div",{className:" judge-pwd pwd"},t.pwd)))});return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row judge-row px-3 mb-3"},r.a.createElement("div",{className:"col-md-2 text-center"},"Num\xe9ro du juge"),r.a.createElement("div",{className:"col-md text-center"},"Nom"),r.a.createElement("div",{className:"col-md-2 text-center"},"T\xe9l\xe9phone mobile"),r.a.createElement("div",{className:"col-md text-center"},"Nom d'utilisateur"),r.a.createElement("div",{className:"col-md-2 text-center"},"Mot de passe")),r.a.createElement("div",{className:"mb-3"},t))}}]),t}(n.Component),Ce=Object(u.b)(function(e){return{final:e.final,judge:e.judge}},{GetJudgesPwd:ee,SetJudgeNumber:function(e,t,a){return function(n){B.a.put("/api/judge/set-number",{judgeNumber:e,judgeId:t,finalId:a}).then(function(e){n(ee(a))}).catch(function(e){n(ee(a)),n({type:b,payload:e.response.data})})}}})(je),Oe=a(10),Se=a(8),Ae=a.n(Se),Ie=(a(79),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.setState({finalId:a.props.final.selectedFinal._id,specialCharacter:a.props.final.selectedFinal.specialCharacter})},a.componentWillUnmount=function(){a.props.ClearResponse()},a.componentDidUpdate=function(e,t){e.final!==a.props.final&&a.setState({finalId:a.props.final.selectedFinal._id,specialCharacter:a.props.final.selectedFinal.specialCharacter}),a.props.action.response!==e.action.response&&"CREATE_JUDGE"===a.props.action.type&&"success"===a.props.action.response&&a.ResetForm()},a.ResetForm=function(){a.setState(a.initialState)},a.OnChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.OnChangePostalCode=function(e){var t=e.target.value.replace(/([\w][\d][\w])([ ]?)([\d][\w][\d])/,"$1 $3").toUpperCase();a.setState(Object(Oe.a)({},e.target.name,t))},a.OnCheck=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.checked))},a.OnSelect=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.selectedOptions[0].value))},a.OnSubmit=function(e){e.preventDefault(),a.props.AddNewJudge(a.state)},a.state={firstName:"",lastName:"",email:"",phone:"",address:"",city:"",postalCode:"",finalId:a.props.final.selectedFinal._id,specialCharacter:a.props.final.selectedFinal.specialCharacter},a.initialState=a.state,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors,t=this.props.action,a=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Juge ajout\xe9",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")));return r.a.createElement("form",{onSubmit:this.OnSubmit,className:"p-5",autoComplete:"nope"},r.a.createElement("input",{id:"username",style:{display:"none"},type:"text",name:"fakeusernameremembered"}),r.a.createElement("input",{id:"password",style:{display:"none"},type:"password",name:"fakepasswordremembered"}),r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fa fa-plus-circle"}),"  ","Ajouter un juge manuellement"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"firstName"},"Pr\xe9nom"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.firstName}),name:"firstName",id:"firstName",placeholder:"Pr\xe9nom",onChange:this.OnChange,value:this.state.firstName}),e.firstName&&r.a.createElement("div",{className:"invalid-feedback"},e.firstName)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"lastName"},"Nom de famille"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.lastName}),name:"lastName",id:"lastName",placeholder:"Nom de famille",onChange:this.OnChange,value:this.state.lastName}),e.lastName&&r.a.createElement("div",{className:"invalid-feedback"},e.lastName))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"email"},"Courriel"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.email}),name:"email",id:"email",placeholder:"Courriel",onChange:this.OnChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"phone"},"Num\xe9ro de t\xe9l\xe9phone"),r.a.createElement("input",{type:"tel",className:Ae()("form-control",{"is-invalid":e.phone}),id:"phone",name:"phone",pattern:"[0-9]{3}[ -]?[0-9]{3}[ -]?[0-9]{4}",placeholder:"222 222-2222",onChange:this.OnChange,value:this.state.phone}),e.phone&&r.a.createElement("div",{className:"invalid-feedback"},e.phone))),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("label",{htmlFor:"address"},"Adresse"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.address}),name:"address",id:"address",placeholder:"Adresse",onChange:this.OnChange,value:this.state.address}),e.address&&r.a.createElement("div",{className:"invalid-feedback"},e.address)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",{htmlFor:"city"},"Ville"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.city}),name:"city",id:"city",placeholder:"Ville",onChange:this.OnChange,value:this.state.city}),e.city&&r.a.createElement("div",{className:"invalid-feedback"},e.city)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("label",{htmlFor:"postalCode"},"Code postal"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.postalCode}),name:"postalCode",id:"postalCode",pattern:"([A-Z][0-9][A-Z])([ ]?)([0-9][A-Z][0-9])",placeholder:"H1V 0B2",onChange:this.OnChangePostalCode,value:this.state.postalCode}),e.postalCode&&r.a.createElement("div",{className:"invalid-feedback"},e.postalCode))),r.a.createElement("button",{type:"submit",className:"btn form-control"},r.a.createElement("i",{className:"fa fa-plus-circle fa-lg"})," Cr\xe9er le juge"),"CREATE_JUDGE"===t.type&&"success"===t.response?a:null,r.a.createElement("hr",null))}}]),t}(n.Component)),xe=Object(u.b)(function(e){return{errors:e.errors,action:e.action,final:e.final}},{AddNewJudge:function(e){return function(t){B.a.post("/api/judge/add-new",e).then(function(e){t({type:"CREATE_JUDGE",payload:e.data}),t({type:N,payload:{type:"CREATE_JUDGE",response:"success"}}),t({type:y})}).catch(function(e){console.log(e),t({type:N,payload:{type:"CREATE_JUDGE",response:"fail"}}),t({type:b,payload:e.response.data})})}},ClearResponse:be})(Ie),ke=function(e){return function(t){B.a.get("/api/project/final-id",{params:{finalId:e}}).then(function(e){t({type:N,payload:{type:"GET_PROJECTS_LIST",response:"success"}}),t({type:y}),t({type:"GET_PROJECTS_LIST",payload:e.data})}).catch(function(e){console.log(e),t({type:N,payload:{type:"GET_PROJECTS_LIST",response:"fail"}}),t({type:b,payload:e.response.data})})}},we=function(){return function(e){e({type:"CLEAR_PROJECTS_LIST"})}},Fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.SelectFinalById(a.props.match.params[0]),a.props.SelectProjectsByFinalId(a.props.match.params[0])},a.DeleteFinal=function(){a.props.DeleteAllFinalJudges(a.props.final.selectedFinal._id),a.props.DeleteAllFinalProjects(a.props.final.selectedFinal._id),a.props.DeleteFinal(a.props.final.selectedFinal._id,a.props.history,a.props.auth.user.id,a.props.auth.user.isAdmin)},a.componentDidUpdate=function(e,t){e.final!==a.props.final&&j(e.final.selectedFinal)&&a.props.GetJudgesPwd(a.props.final.selectedFinal._id)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params[0],t=this.props.final.selectedFinal;return r.a.createElement(n.Fragment,null,r.a.createElement(he,{pageTitle:"Finale - Infos",id:e,finalName:t.longName}),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement(Ne,{finalId:this.props.match.params[0]}))),r.a.createElement(xe,null),r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("h4",null,"Liste des juges")),r.a.createElement(Ce,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"alert alert-danger mx-auto text-center"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),"\u2003Attention, toutes les donn\xe9es seront effac\xe9es d\xe9finitivement!"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 offset-md-4"},r.a.createElement("div",{className:"btn btn-block",onClick:this.DeleteFinal},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-trash"})),"\u2003 EFFACER LA FINALE"))),r.a.createElement("hr",null)),r.a.createElement("footer",{className:"text-center"},"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019."))}}]),t}(n.Component),Te=Object(u.b)(function(e){return{auth:e.auth,final:e.final}},{SelectFinalById:re,SelectProjectsByFinalId:ke,GetJudgesPwd:ee,DeleteAllFinalJudges:function(e){return function(t){B.a.delete("/api/judge/delete-final-all",{params:{finalId:e}}).then(function(e){t({type:N,payload:{type:"DELETE_JUDGE",response:"success"}}),t({type:y})}).catch(function(e){console.log(e),t({type:N,payload:{type:"DELETE_JUDGE",response:"fail"}}),t({type:b,payload:e.response.data})})}},DeleteAllFinalProjects:function(e){return function(t){B.a.delete("/api/project/delete-final-all",{params:{finalId:e}}).then(function(e){t({type:N,payload:{type:"DELETE_PROJECT",response:"success"}}),t({type:y})}).catch(function(e){console.log(e),t({type:N,payload:{type:"DELETE_PROJECT",response:"fail"}}),t({type:b,payload:e.response.data})})}},DeleteFinal:function(e,t,a,n){return function(r){B.a.delete("/api/final",{params:{finalId:e}}).then(function(e){r({type:y}),r(ie(a,n)),window.setTimeout(function(){t.push("/admin/panneau-controle")},1e3)}).catch(function(e){r({type:N,payload:{type:"DELETE_FINAL",response:"fail"}}),r({type:b,payload:e.response.data})})}}})(Fe),Re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).OnFileSelect=function(e){a.setState({file:e.target.files[0]})},a.OnImportData=function(){if(""!==a.state.file&&void 0!==a.state.file){var e=new FileReader,t=Object(Ee.a)(a);e.onload=function(n){var r=e.result;t.setState({reportsResults:r},function(){a.ConvertCSVToJson()})},e.readAsText(a.state.file)}},a.ConvertCSVToJson=function(){var e={};a.state.reportsResults.split(/\n|\r\n/).map(function(t,a){if("P"!==t.substr(0,1)&&"#"!==t.substr(0,1)&&""!==t.substr(0,1)&&"&"!==t.substr(0,1)&&parseInt(t.substr(0,1))){var n=t.split(/;/);return e.hasOwnProperty(n[0])||(e[n[0]]={}),e[n[0]]={project:parseInt(n[0]),reportResult:parseFloat(n[1])},n}});var t={_id:a.props.finalId,reportsResults:e};a.props.SaveFinalPairing(t),a.props.HideModal()},a.OnSubmit=function(e){e.preventDefault()},a.state={reportsResults:{},file:"",modal:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.errors,i=this.props.final.selectedFinal,o=j(i.reportsResults)?r.a.createElement("div",{className:"alert alert-warning mx-auto text-center"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle"}),"\u2003 Aucune note de rapport \xe9crit n'est enregistr\xe9e")):r.a.createElement("div",{className:"alert mx-auto text-center"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-check"}),"\u2003 Rapports \xe9crits import\xe9s")),s=r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show mt-3",role:"alert"},a.msg,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearErrors},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Finale ajout\xe9e",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")));return r.a.createElement(n.Fragment,null,this.state.modal,r.a.createElement("div",{className:"p-3"},r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fas fa-plus-circle"}),"  ","Importer le fichier csv de notes de rapports \xe9crits"),o,r.a.createElement("form",{onSubmit:this.OnSubmit},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"CSVImport",className:"btn btn-accent2 btn-lg btn-block"},"S\xe9lectionner le fichier"),r.a.createElement("input",{id:"CSVImport",name:"file",type:"file",accept:"text/csv",multiple:!1,onChange:this.OnFileSelect,style:{display:"none"}}),r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-exclamation-circle fa-sm"})," Veuiller choisir le fichier .csv depuis le fichier Rapp"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 offset-3"},r.a.createElement("p",null,r.a.createElement("small",null,"Nom du fichier s\xe9lectionn\xe9"),r.a.createElement("br",null),j(this.state.file.name)?r.a.createElement("em",null,"Aucun fichier s\xe9lectionn\xe9"):this.state.file.name))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 mx-auto"},r.a.createElement("input",{type:"submit",className:"btn btn-block",name:"csvSubmit",id:"csvSubmit",value:"Importer les notes de rapports \xe9crits",onClick:this.OnImportData}),r.a.createElement("p",null,r.a.createElement("small",null,"Attention, ceci risque \xe9crasera les notes de rapports \xe9crits existantes"))))),r.a.createElement("hr",null),a.msg&&s,"CREATE_FINAL"===t.type&&"success"===t.response?l:null,r.a.createElement("button",{id:"createModalBtn",className:"icon-button","data-target":"#createFinalModal","data-toggle":"modal",style:{display:"none"}})))}}]),t}(n.Component),Pe=Object(u.b)(function(e){return{action:e.action,errors:e.errors,final:e.final}},{SaveFinalPairing:le,ClearErrors:ve,ClearResponse:be})(Re),_e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.final.selectedFinal.reportsResults,t=this.props.project.projectsList,a=Object.keys(t).map(function(a){var n=t[a].number;return r.a.createElement("div",{className:"offset-3 col-6 row ranking-row my-2 py-3"},r.a.createElement("div",{className:"col-8"},"Projet ",e[n]&&e[n].project," |"," ",t[a].information.projectInformation.title),r.a.createElement("div",{className:"col text-center"},e[n]&&e[n].reportResult.toFixed(3)))});return r.a.createElement("div",{className:"row mx-auto center-text"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h1",{className:"text-center mx-auto"},"R\xe9sultats de l'\xe9valuation des rapports \xe9crits")),r.a.createElement("div",{className:"col-12"},r.a.createElement("h4",{className:"text-center mx-auto"},"R\xe9sultat / 12")),r.a.createElement("div",{className:"offset-3 col-6"},r.a.createElement("p",{className:"text-center mx-auto"},"Cette note sera additionn\xe9e \xe0 la moyenne des r\xe9sultats du projet dont la note la plus haute et la plus basse ont \xe9t\xe9 retir\xe9es")),r.a.createElement("div",{className:"offset-3 col-6 row my-2 py-3"},r.a.createElement("div",{className:"col-8 text-center"},"Projet"),r.a.createElement("div",{className:"col text-center"},"R\xe9sultat")),a)}}]),t}(n.Component),Le=Object(u.b)(function(e){return{final:e.final,project:e.project}},{SelectFinalById:re})(_e),De=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.SelectFinalById(a.props.match.params[0]),a.props.SelectProjectsByFinalId(a.props.match.params[0]),a.props.SelectJudgesByFinalId(a.props.match.params[0])},a.HandleClick=function(e){a.setState({showModal:!0})},a.HideModal=function(){a.setState({showModal:!1})},a.state={showModal:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params[0],t=this.props.final.selectedFinal;return r.a.createElement(n.Fragment,null,r.a.createElement(he,{pageTitle:"Finale - Vue par p\xe9riodes",id:e}),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto"},(void 0===t.reportsResults||!0===this.state.showModal)&&r.a.createElement(Pe,{finalId:this.props.match.params[0],HideModal:this.HideModal}))),t.reportsResults&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"btn mx-auto my-5",onClick:this.HandleClick},"R\xe9importer les r\xe9sultats"),r.a.createElement(Le,null))))}}]),t}(n.Component),Je=Object(u.b)(function(e){return{final:e.final,project:e.project}},{SelectFinalById:re,SelectProjectsByFinalId:ke,SelectJudgesByFinalId:K})(De),Me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){window.setTimeout(function(){a.ManageCols()},300)},a.componentDidUpdate=function(e,t){e.final.selectedFinal!==a.props.final.selectedFinal&&console.log("UPDATE CHANGE IN FINAL INFOS")},a.ManageCols=function(){for(var e=a.props.judgeNumber,t=[],n=1;n<=8;n++){var r=a.GetPairingInfos(e,n);t.push(a.FillCol(r,n,e))}a.setState({cols:t})},a.GetPairingInfos=function(e,t){var n=a.props.final.selectedFinal.pairing.pairingByJudges;return j(n)||j(n[e])?null:j(n[e][t])?void 0:n[e][t].project},a.FillCol=function(e,t,n){var i=a.CheckJudgmentStatus(e,n);return r.a.createElement("div",{key:e+""+t,className:Ae()("col-md grid-cell",{"grid-cell-complete":i}),"data-judge":n,"data-project":e,"data-period":t},j(e)?" - ":r.a.createElement("div",null,"Projet ",e," ",i&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-check"}))))},a.CheckJudgmentStatus=function(e,t){var n=a.props.final.selectedFinal.results;return void 0!==n&&!j(n[e])&&!j(n[e][t])&&n[e][t].isComplete},a.CheckJudgeAmount=function(){if(j(a.props.attributionInfos))return console.log("Aucun pairage");var e=0;return Object.keys(a.props.attributionInfos).map(function(t,n){return j(a.props.attributionInfos[t].judge)||e++,null}),!(e<a.props.minJudges)},a.state={cols:[],pairing:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.state.cols)}}]),t}(n.Component),Be=Object(u.b)(function(e){return{judge:e.judge,final:e.final}})(Me),Ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.OrderJudgesByLanguage(),a.OrderProjectsByLanguage(),console.log(a.state)},a.InitializeRandomizer=function(e){var t,n,r={},i=a.props.project.projectsList,o=e;a.state.removeFirstLastPeriod;switch(o){case"elementary":t=5,n=3;break;case"highschool":default:t=6,n=5}for(var s=0;s<i.length;s++){r[s]={};for(var l=1;l<=t;l++)r[s][l]={project:i[s].number,period:l}}var c=t-n;return r=a.AssignPause(r,t,c),!0},a.OrderJudgesByLanguage=function(){var e=a.props.judge.judgesList,t=[],n=[],r=[];e.map(function(e){return"no"===e.information.judgingExperience.judgingFrench&&"yes"===e.information.judgingExperience.judgingEnglish?t.push(e):"yes"===e.information.judgingExperience.judgingFrench&&"yes"===e.information.judgingExperience.judgingEnglish?n.push(e):"yes"===e.information.judgingExperience.judgingFrench&&"no"===e.information.judgingExperience.judgingEnglish?r.push(e):void 0}),a.setState({englishJudges:t,bilangualJudges:n,frenchJudges:r})},a.OrderProjectsByLanguage=function(){var e=a.props.project.projectsList,t=[],n=[],r=[];e.map(function(e){return"no"===e.information.projectInformation.languageFrench&&"yes"===e.information.projectInformation.languageEnglish?t.push(e):"yes"===e.information.projectInformation.languageFrench&&"yes"===e.information.projectInformation.languageEnglish?n.push(e):"yes"===e.information.projectInformation.languageFrench&&"no"===e.information.projectInformation.languageEnglish?r.push(e):void 0}),a.setState({englishProjects:t,bilangualProjects:n,frenchProjects:r})},a.AssignPause=function(e,t,a){for(var n in e)for(var r=0;r<a;r++){var i=Math.floor(Math.random()*t);void 0===e[n][i].judge?e[n][i].judge=null:r--}return e},a.SelectJudge=function(e,t){var n=0,r=t.information.projectInformation.category,i=t.information.projectInformation.type,o=t.classification,s=e.information.judgingPreference;n+=a.CheckCategoryPref(s,r),n+=a.CheckClassificationPref(s,o),n+=a.CheckTypePref(s,i),console.log("project:",t.number,"judge:",e.number,n)},a.CheckCategoryPref=function(e,t){return void 0===e?-1e3:t===e.categoryFirst?1e3:t===e.categorySecond?750:t===e.categoryThird?500:0},a.CheckClassificationPref=function(e,t){return void 0===e?-1e3:t===e.academicFirst?1e3:t===e.academicSecond?750:t===e.academicThird?500:0},a.CheckTypePref=function(e,t){return void 0===e?-1e3:t===e.typeFirst?1e3:t===e.typeSecond?750:0},a.AssignJudgesToPeriods=function(){},a.state={nbPeriods:null,nbJudgmentsPerProject:null,nbPauses:null,nbPeriodsWithPause:null,nbProjectsPerPeriod:null,nbProjectsOver:null,level:null,removeFirstLastPeriod:!1,englishJudges:[],bilangualJudges:[],frenchJudges:[],englishProjects:[],bilangualProjects:[],frenchProjects:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"test"))}}]),t}(n.Component),qe=(Object(u.b)(function(e){return{final:e.final,project:e.project,judge:e.judge}})(Ge),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.SelectFinalById(a.props.match.params[0]),a.props.SelectJudgesByFinalId(a.props.match.params[0]),a.props.SelectProjectsByFinalId(a.props.match.params[0])},a.componentDidUpdate=function(e,t){if(!j(a.props.judge.judgesList)&&j(a.state.judgesList)){var n=a.props.judge.judgesList.filter(function(e){return null!==e.number}).sort(function(e,t){return e.number-t.number});a.setState({judgesList:n})}},a.FormatType=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"vulgarization":a=t?"V":"Vulgarisation";break;case"conception":a=t?"C":"Conception";break;case"experimentation":a=t?"E":"Exp\xe9rimentation"}return a},a.FormatCategory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"health_sciences":a=t?"SS":"Sciences de la sant\xe9";break;case"engeneering_computer_science":a=t?"INGI":"Ing\xe9nierie et sciences informatiques";break;case"physics_mathematic_sciences":a=t?"SPM":"Sciences physiques et math\xe9matiques";break;case"earth_environment_sciences":a=t?"STE":"Sciences de la Terre et de l'environnement";break;case"human_social_sciences":a=t?"SH":"Sciences humaines et sociales";break;case"life_sciences":a=t?"SV":"Sciences de la vie"}return a},a.CreateTableHeader=function(){for(var e=[],t=0;t<8;t++)e.push(r.a.createElement("div",{key:t,className:"col grid-cell-header"}," ","P\xe9riode ",String.fromCharCode(65+t)));return e},a.state={judgesList:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params[0],t=this.props.final.selectedFinal,a=this.state.judgesList.map(function(e,a){var i=j(t.pairing)?{}:t.pairing.pairingByJudges[e.number];return r.a.createElement(n.Fragment,{key:"".concat(e.judgeId).concat(a)},r.a.createElement("div",{className:"projectsListItem row","data-projectrow":e.number},r.a.createElement("div",{className:"col-md-3 row"},r.a.createElement("div",{className:"col-1"},r.a.createElement("strong",null,null===e.number?r.a.createElement("i",{className:"fas fa-exclamation-triangle text-danger",title:"Num\xe9ro non attribu\xe9"}):e.number)),r.a.createElement("div",{className:"col-md"},"".concat(e.information.generalInformation.firstName," ").concat(e.information.generalInformation.lastName)),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("strong",null,r.a.createElement("i",{className:"fas fa-ellipsis-v"})))),r.a.createElement("div",{className:"col-md row"},r.a.createElement(Be,{judgeNumber:e.number,attributionInfos:i,minJudges:"5",results:t.results}))))});return r.a.createElement(n.Fragment,null,r.a.createElement(he,{pageTitle:"Finale - Vue par juges",id:e,finalName:t.longName}),r.a.createElement("div",{className:"p-5 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 row"}),r.a.createElement("div",{className:"col row"},this.CreateTableHeader())),a),r.a.createElement("footer",{className:"text-center"},"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019."))}}]),t}(n.Component)),Ue=Object(u.b)(function(e){return{final:e.final,project:e.project,judge:e.judge}},{SelectFinalById:re,SelectJudgesByFinalId:K,SelectProjectsByFinalId:ke})(qe),Ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.SelectFinalById(a.props.match.params[0])},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.match.params[0];return r.a.createElement(n.Fragment,null,r.a.createElement(he,{pageTitle:"Finale - Vue par p\xe9riodes",id:e}),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-md-6"},"test"))))}}]),t}(n.Component),ze=Object(u.b)(null,{SelectFinalById:re})(Ve),He=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){console.log("mount",a.props)},a.GoToGrid=function(){var e=a.props,t=e.project,n=e.judge,r=e.period,i=e.results;a.props.GoToGrid(t,n,r,i),a.props.ClearModal()},a.RemoveJudge=function(){var e=a.props,t=e.project,n=e.judge,r=e.period;a.props.RemoveJudge(t,r,n),a.props.ClearModal()},a.SavePairing=function(){if(""!==a.state.judge){var e=a.props,t=e.project,n=e.period;a.props.SavePairing(t,n,a.state.judge),a.props.ClearModal()}},a.HandleSelect=function(e){a.setState({judge:e.currentTarget.value})},a.state={judge:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=""===this.state.judge,t=this.props.judge,a=this.props.list&&this.props.list.map(function(e){return r.a.createElement("option",{key:e.number,value:e.number},e.number)});return r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-primary d-none","data-toggle":"modal","data-target":"#modalJudge",id:"modalJudge-btn"}),r.a.createElement("div",{className:"modal fade",id:"modalJudge",tabIndex:"-1",role:"dialog","aria-labelledby":"modalJudgeLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},r.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.a.createElement("div",{className:"modal-content "},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title text-center",id:"modalJudgeLabel"},"Projet ",this.props.project," - P\xe9riode"," ",String.fromCharCode(64+parseInt(this.props.period))),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",id:"closeModalBtn",onClick:this.props.ClearModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"modal-body",id:"modalJudge-body"},r.a.createElement("div",{className:"mb-4 border-bottom"},r.a.createElement("h5",{className:"mx-auto"},"Saisir ou modifier un jugement"),r.a.createElement("div",{className:"my-2"},void 0===this.props.judge?r.a.createElement("p",null,"Aucun juge s\xe9lectionn\xe9"):r.a.createElement("button",{type:"button",className:"btn btn-accent2 btn-block py-2",onClick:this.GoToGrid},"Voir la fiche"))),r.a.createElement("div",{className:"form-group mx-auto"},r.a.createElement("h5",{className:"mx-auto"},"Changer de juge",r.a.createElement("small",{className:"pl-3"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-circle"}))," ","Attention, cela effacera un jugement enregistr\xe9")),r.a.createElement("label",{htmlFor:""},"Liste des juges disponibles"),r.a.createElement("select",{className:"custom-select",name:"judge",id:"judge",onChange:this.HandleSelect,value:this.state.judge},r.a.createElement("option",{value:""},0===this.props.list.length?"Aucun juge disponible pour cette p\xe9riode":"Choisir un juge disponible")," ","/>",a))),r.a.createElement("div",{className:"modal-footer"},t&&r.a.createElement("button",{type:"button",className:"btn btn-danger mr-auto",onClick:this.RemoveJudge},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-trash"}))," ","Supprimer le juge pour cette p\xe9riode"),this.props.list.length>0&&r.a.createElement("button",{type:"button",className:Ae()("btn btn-secondary",{"btn-disabled":e}),onClick:this.SavePairing},e?"Choisir un juge dans la liste":"Modifier le juge"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.props.ClearModal},"Annuler"))))))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){window.setTimeout(function(){a.ManageCols()},300)},a.componentDidUpdate=function(e,t){e.final.selectedFinal!==a.props.final.selectedFinal&&a.ManageCols()},a.ManageCols=function(){for(var e=a.props.projectNumber,t=[],n=1;n<=8;n++){var r=a.GetPairingInfos(e,n);t.push(a.FillCol(e,n,r))}a.CheckJudgeAmount(),a.setState({cols:t})},a.GetPairingInfos=function(e,t){var n=a.props.final.selectedFinal.pairing.pairingByProjects;return j(n)?null:j(n[e][t])?void 0:n[e][t].judge},a.CheckJudgmentStatus=function(e,t){var n=a.props.final.selectedFinal.results;return void 0!==n&&!j(n[e])&&!j(n[e][t])&&n[e][t].isComplete},a.FillCol=function(e,t,n){var i=a.CheckJudgmentStatus(e,n);return r.a.createElement("div",{key:t,className:Ae()("col-md grid-cell",{"grid-cell-complete":i}),"data-project":e,"data-judge":j(n)?void 0:n,"data-period":t,onClick:a.HandleClick},j(n)?" - ":r.a.createElement("div",null,"Juge ",n," ",i&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-check"}))))},a.CheckJudgeAmount=function(){var e=0;Object.keys(a.props.attributionByProject).map(function(t,n){return j(a.props.attributionByProject[t].judge)||e++,null}),e!=a.props.minJudges?a.props.ShowMissingJudge(a.props.projectNumber,!0):a.props.ShowMissingJudge(a.props.projectNumber,!1)},a.SavePairing=function(e,t,n){if(void 0!==n){var r,i=a.props.final&&a.props.final.selectedFinal,o=a.props.final&&a.props.final.selectedFinal.pairing,s=a.props.final&&a.props.final.selectedFinal.results;e=parseInt(e),t=parseInt(t),n=parseInt(n),j(o.pairingByProjects[e])&&(o.pairingByProjects[e]={}),j(o.pairingByProjects[e][t])&&(o.pairingByProjects[e][t]={project:e,period:t,judge:null}),r=o.pairingByProjects[e][t].judge,o.pairingByProjects[e][t]={project:e,period:t,judge:n},j(o.pairingByJudges[n])&&(o.pairingByJudges[n]={}),j(o.pairingByJudges[n][t])&&(o.pairingByJudges[n][t]={project:null,period:t,judge:n}),o.pairingByJudges[n][t]={project:e,period:t,judge:n},r&&!j(o.pairingByJudges[r][t])&&delete o.pairingByJudges[r][t],void 0!==s[e]&&void 0!==s[e][r]&&(delete s[e][r],j(s[e])&&delete s[e]),s[e]&&void 0!==s[e][n]&&(delete s[e][n],j(s[e])&&delete s[e]),i.pairing=o,i.results=s,a.props.UpdateFinal(i),a.ManageCols()}},a.ShowJudgeModal=function(e,t,n,i){var o=a.props.judge.judgesList;o=a.CheckAvailibility(o,n);var s=r.a.createElement(He,{project:e,period:n,judge:t,results:i,list:o,ClearModal:a.ClearModal,SavePairing:a.SavePairing,GoToGrid:a.GoToGrid,RemoveJudge:a.RemoveJudge});a.setState({modal:s},function(){document.getElementById("modalJudge-btn").click()})},a.CheckAvailibility=function(e,t){var n=a.CheckJudgeOtherPeriods(e);return n=a.CheckIfIsJudgingAtPeriod(n,t)},a.CheckJudgeOtherPeriods=function(e){return e.filter(function(e){if(null===e.number)return!1;for(var t in a.props.attributionByProject)if(a.props.attributionByProject[t].judge===e.number)return!1;return!0})},a.CheckIfIsJudgingAtPeriod=function(e,t){var n=a.props.final.selectedFinal.pairing.pairingByProjects;return e.filter(function(e){if(null===e.number)return!1;for(var a in n)if(n[a][t]&&n[a][t].judge===e.number)return!1;return!0})},a.RemoveJudge=function(e,t,n){if(void 0!==n){var r=a.props.final&&a.props.final.selectedFinal,i=a.props.final&&a.props.final.selectedFinal.pairing,o=a.props.final&&a.props.final.selectedFinal.results;e=parseInt(e),t=parseInt(t),n=parseInt(n),i.pairingByProjects[e]&&!j(i.pairingByProjects[e][t])&&(i.pairingByProjects[e][t]={project:e,period:t,judge:null}),i.pairingByJudges[n]&&!j(i.pairingByJudges[n][t])&&(i.pairingByJudges[n][t]={project:null,period:t,judge:n}),o&&o[e]&&delete o[e][n],r.pairing=i,r.results=o,a.props.UpdateFinal(r)}},a.HandleClick=function(e){var t=e.currentTarget.dataset,n=t.project,r=t.judge,i=t.period;console.log("click",n,r,i);var o=a.props.final.selectedFinal.results;a.ShowJudgeModal(n,r,i,o)},a.ClearModal=function(){document.getElementById("closeModalBtn").click(),a.setState({modal:""})},a.GoToGrid=function(e,t,n,r){a.props.history.push({pathname:"/admin/finale/".concat(a.props.match.params[0],"/grid/").concat(e),state:{period:n,project:e,judge:t,finalId:a.props.match.params[0],isAdmin:!0,results:a.CheckExistingResult(e,t,r)?a.ImportResults(e,t,r):{}}})},a.CheckExistingResult=function(e,t,a){return!j(a)&&(!j(a[e])&&(!j(a[e][t])&&!!a[e][t].hasOwnProperty("results")))},a.ImportResults=function(e,t,a){return a[e][t]},a.state={cols:[],modal:"",pairing:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.state.modal,this.state.cols)}}]),t}(n.Component),Qe=Object(u.b)(function(e){return{judge:e.judge,final:e.final}},{UpdateFinal:function(e){return function(t){B.a.put("/api/final/update",e).then(function(a){t({type:N,payload:{type:"SAVE_FINAL_PAIRING",response:"success"}}),t(re(e._id))}).catch(function(e){console.log("err",e),t({type:N,payload:{type:"SAVE_FINAL_PAIRING",response:"fail"}}),t({type:b,payload:e.response.data})})}}})(We),Xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){},a.FormatType=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"vulgarization":a=t?"V":"Vulgarisation";break;case"conception":a=t?"C":"Conception";break;case"experimentation":a=t?"E":"Exp\xe9rimentation"}return a},a.SaveNewType=function(){""!==a.state.type&&(a.props.SwitchProjectType(a.props.projectid,a.state.type),a.props.ClearModal())},a.ResetResults=function(){},a.HandleSelect=function(e){a.setState({type:e.currentTarget.value})},a.state={type:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=""===this.state.type,a=this.props.type,i=["vulgarization","conception","experimentation"].filter(function(e){return e!==a}).map(function(t){return r.a.createElement("option",{key:t,value:t},e.FormatType(t))});return r.a.createElement(n.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-primary d-none","data-toggle":"modal","data-target":"#modalTypeSwitch",id:"modalTypeSwitch-btn"}),r.a.createElement("div",{className:"modal fade",id:"modalTypeSwitch",tabIndex:"-1",role:"dialog","aria-labelledby":"modalTypeSwitchLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content "},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h3",{className:"modal-title text-center",id:"modalTypeSwitchLabel"},"Projet ",this.props.projectnumber),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",id:"closeModalBtn",onClick:this.props.ClearModal},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"modal-body",id:"modalTypeSwitch-body"},r.a.createElement("div",{className:"mb-1 border-bottom"},r.a.createElement("h5",{className:"mx-auto"},"Modifier le type")),r.a.createElement("div",{className:"form-group mx-auto"},r.a.createElement("h6",{className:"mx-auto"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-circle"}))," ","Attention, cela r\xe9initialisera tous les jugements du projet"),r.a.createElement("select",{className:"custom-select",name:"judge",id:"judge",onChange:this.HandleSelect,value:this.state.type},r.a.createElement("option",{value:""}),i))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:Ae()("btn btn-secondary",{"btn-disabled":t}),onClick:t?null:this.SaveNewType},"Enregistrer le changement"),r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:this.props.ClearModal},"Annuler"))))))}}]),t}(n.Component),Ze=a(44),$e=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.SelectFinalById(a.props.match.params[0]),a.props.SelectProjectsByFinalId(a.props.match.params[0]),a.props.SelectJudgesByFinalId(a.props.match.params[0])},a.FormatType=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"vulgarization":a=t?"V":"Vulgarisation";break;case"conception":a=t?"C":"Conception";break;case"experimentation":a=t?"E":"Exp\xe9rimentation"}return a},a.FormatCategory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"health_sciences":a=t?"SS":"Sciences de la sant\xe9";break;case"engeneering_computer_science":a=t?"INGI":"Ing\xe9nierie et sciences informatiques";break;case"physics_mathematic_sciences":a=t?"SPM":"Sciences physiques et math\xe9matiques";break;case"earth_environment_sciences":a=t?"STE":"Sciences de la Terre et de l'environnement";break;case"human_social_sciences":a=t?"SH":"Sciences humaines et sociales";break;case"life_sciences":a=t?"SV":"Sciences de la vie";break;case"biotechnologies":a=t?"BIO":"Biotechnologies"}return a},a.CreateTableHeader=function(){for(var e=[],t=1;t<=8;t++)e.push(r.a.createElement("div",{key:t,className:"col-md grid-cell-header"}," ","P\xe9riode ",String.fromCharCode(64+t)));return e},a.ShowMissingJudge=function(e,t){var a=document.querySelector("[data-projectrow='".concat(e.toString(),"']"));t?a.classList.add("missing-judge"):a.classList.remove("missing-judge");t?a.setAttribute("title","Le nombre de juge est inf\xe9rieur ou sup\xe9rieur au nombre de juges permis"):a.hasAttribute("title")&&a.removeAttribute("title")},a.ShowProjectInfos=function(e){var t=document.querySelector('.more-infos[data-project="'.concat(e.currentTarget.dataset.project,'"]')),i=t.dataset.project,s=a.props.project.projectsList.filter(function(e){return e.number==i});if(!j(s)){var l=(s=s[0]).classification,c=s.information.projectInformation,m=c.type,p=c.category,u=c.summary,d=s.participants[0]&&s.participants[0],f=s.participants[1]&&s.participants[1],g=document.createElement("div"),h=o.a.render(r.a.createElement("div",{className:"p-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-left"},r.a.createElement("h3",null,"Fiche du projet"))),r.a.createElement("div",{className:"row border-bottom"},r.a.createElement("div",{className:"col-md-12 text-left"},r.a.createElement("h4",null,"N",r.a.createElement("sup",null,"o"),s.number," | ",s.information.projectInformation.title))),s.participants.length>0&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row pt-2"},r.a.createElement("div",{className:"col-md-12 text-left"},r.a.createElement("h5",null,"\xc9quipe"))),r.a.createElement("div",{className:"row border-bottom pb-2"},r.a.createElement("div",{className:"col-md-12 text-left"},d&&r.a.createElement("span",null,d.information.generalInformation.firstName," ",d.information.generalInformation.lastName),f&&r.a.createElement("span",null,"\u2003&\u2003"),f&&r.a.createElement("span",null,f.information.generalInformation.firstName," ",f.information.generalInformation.lastName)))),r.a.createElement("div",{className:"row pt-2"},r.a.createElement("div",{className:"col-md-2  text-left"},"Type"),r.a.createElement("div",{className:"col text-left"},r.a.createElement("p",null," ",a.FormatType(m)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2  text-left"},"Cat\xe9gorie"),r.a.createElement("div",{className:"col text-left"},r.a.createElement("p",null," ",a.FormatCategory(p)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2  text-left"},"Classe"),r.a.createElement("div",{className:"col text-left"},r.a.createElement("p",null," ",l))),r.a.createElement("div",{className:"row border-top pt-2"},r.a.createElement("div",{className:"col-md-12 text-left"},r.a.createElement("h5",null,"R\xe9sum\xe9")),r.a.createElement("div",{className:"col-md-12 text-justify"},r.a.createElement("p",{className:"text-justify"},u)))),g);Object(Ze.a)(t.parentNode,{content:h,placement:"top-start",maxWidth:"60%",flipBehavior:["bottom","top"],flipOnUpdate:!0,interactiveBorder:100,inertia:!0,boundary:"viewport",followCursor:!0})}},a.ShowTypeSwitchModal=function(e,t,n){var i=r.a.createElement(Xe,{projectid:e,projectnumber:t,type:n,ClearModal:a.ClearModal,SwitchProjectType:a.props.SwitchProjectType});a.setState({modal:i},function(){document.getElementById("modalTypeSwitch-btn").click()})},a.ClearModal=function(){document.getElementById("closeModalBtn").click(),a.setState({modal:""})},a.HandleClick=function(e){var t=e.currentTarget.dataset,n=t.projectid,r=t.type,i=t.projectnumber,o=a.props.final.selectedFinal.results;a.ShowTypeSwitchModal(n,i,r,o)},a.state={modal:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params[0],a=this.props.final.selectedFinal,i=this.props.project.projectsList.map(function(t){var i=j(a.pairing)?{}:a.pairing.pairingByProjects[t.number];return r.a.createElement(n.Fragment,{key:t.projectId},r.a.createElement("div",{className:"projectsListItem row","data-projectrow":t.number},r.a.createElement("div",{id:"popup",style:{position:"fixed",zIndex:"100",top:"50%"}}),r.a.createElement("div",{className:"col-md-5 row"},r.a.createElement("div",{className:"col-1"},r.a.createElement("strong",null,null===t.number?r.a.createElement("i",{className:"fas fa-exclamation-triangle text-danger",title:"Num\xe9ro non attribu\xe9"}):t.number)),r.a.createElement("div",{className:"col"},t.information.projectInformation.title),r.a.createElement("div",{className:"col-1"},e.FormatCategory(t.information.projectInformation.category,!0),"  ",e.FormatType(t.information.projectInformation.type,!0)),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"ml-1 btn btn-fonce btn-sm",onClick:e.HandleClick,"data-projectid":t._id,"data-projectnumber":t.number,"data-type":t.information.projectInformation.type},"Changer le type")),r.a.createElement("div",{className:"col-1 p-0"},r.a.createElement("span",{className:"text-left"},r.a.createElement("i",{className:"fas more-infos fa-info-circle ","data-project":t.number,onMouseOver:e.ShowProjectInfos,style:{cursor:"pointer"}})))),r.a.createElement("div",{className:"col-md row"},r.a.createElement(Qe,{projectNumber:t.number,attributionByProject:i,minJudges:"highschool"===a.level?5:3,ShowMissingJudge:e.ShowMissingJudge,results:a.results,history:e.props.history,match:e.props.match}))))});return r.a.createElement(n.Fragment,null,this.state.modal,r.a.createElement(he,{pageTitle:"Finale - Vue par projets",id:t,finalName:a.longName}),r.a.createElement("div",{className:"p-5 "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5 row"}),r.a.createElement("div",{className:"col-md row"},this.CreateTableHeader())),i),r.a.createElement("footer",{className:"text-center"},"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019."))}}]),t}(n.Component),Ke=Object(u.b)(function(e){return{final:e.final,project:e.project}},{SelectFinalById:re,SelectProjectsByFinalId:ke,SwitchProjectType:function(e,t){return function(a){B.a.put("/api/project/switch-type",{projectId:e,newType:t}).then(function(e){var t=(e=e.data).finalId,n=e.number;a(function(e,t){return function(a){B.a.get("/api/final/id",{params:{finalId:e}}).then(function(e){if(e=e.data,j(e.results)||j(e.results[t]))throw{response:{data:{msg:"Aucun jugement enregistr\xe9 pour le projet demand\xe9"}}};var a=e.results;return delete a[t],e.results=a,B.a.put("/api/final/reset-project",e)}).then(function(e){a(re(e.data._id))}).catch(function(e){a({type:N,payload:{type:"SAVE_FINAL_PAIRING",response:"fail"}}),a({type:b,payload:e.response.data})})}}(t,n)),a(ke(t)),a({type:N,payload:{type:"GET_PROJECT",response:"success"}}),a({type:y})}).catch(function(e){console.log(e),a({type:N,payload:{type:"GET_PROJECT",response:"fail"}}),a({type:b,payload:e.response.data})})}},SelectJudgesByFinalId:K})($e),Ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.SelectFinalById(a.props.match.params[0]),a.props.SelectProjectsByFinalId(a.props.match.params[0])},a.FindProject=function(e){return isNaN(e)?null:a.props.project.projectsList.filter(function(t){return t.number==e})},a.CalculateResults=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=a.props.project.projectsList[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var s=i.value;a.CalculateProjectResults(s.number,e[s.number])}}catch(l){n=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},a.CalculateProjectResults=function(e,t){var n=[],r=[];if(void 0===t||j(t)?(n=[0,0,0,0,0],r=[0,0,0,0,0]):(n=Object.keys(t).filter(function(e){return void 0!==t[e].total&&null!==t[e].total}).map(function(e){return t[e].total}),r=Object.keys(t).filter(function(e){return void 0!==t[e].totalInternational&&null!==t[e].totalInternational}).map(function(e){return t[e].totalInternational})),j(n))return!1;var i=a.state.results;if(j(i[e])&&(i[e]={}),i[e].individualResults=t,"highschool"===a.props.final.selectedFinal.level?(i[e].finalAvgResults=a.CalcTrimmedAvg(n),i[e].finalInternationalResults=a.CalcInternationalResult(r)):"elementary"===a.props.final.selectedFinal.level&&(i[e].finalAvgResults=a.CalcAvg(n)),a.props.final.selectedFinal.isSuperExpo){var o=a.props.final.selectedFinal.reportsResults[e]?a.props.final.selectedFinal.reportsResults[e].reportResult:0;i[e].finalAvgResults+=parseFloat(o),i[e].finalInternationalResults+=parseFloat(o)}a.setState({results:i},function(){a.SortProjectByDefault()})},a.CalcAvg=function(e){return e.reduce(function(e,t,a,n){return e+=t,a===n.length-1?e/n.length:e})},a.CalcTrimmedAvg=function(e){if(!(e.length<5)){var t=e;return t=a.RemoveHighestJudge(t),t=a.RemoveLowestJudge(t),a.CalcAvg(t)}},a.RemoveLowestJudge=function(e){return(e=e.sort(function(e,t){return e-t})).shift(),e},a.RemoveHighestJudge=function(e){return(e=e.sort(function(e,t){return e-t})).pop(),e},a.CalcInternationalResult=function(e){return e.reduce(function(e,t,a,n){return e+=t,a===n.length-1?e/n.length:e})},a.SortByRanking=function(e,t){return t.map(function(t){return Object(Oe.a)({},t,e[t])})},a.SortProjectByDefault=function(){var e=a.state.results;if(!j(e)){var t;t=Object.keys(e).sort(function(t,a){return e[a].finalAvgResults-e[t].finalAvgResults}),a.ResetDirection();var n=document.querySelector(".sort-default");n.classList.add("sort-active"),a.FlipIconDirection(n),a.setState({sortedResults:a.SortByRanking(e,t),exportList:a.SortByRanking(e,t)})}},a.SortProjectByProjectNumber=function(e){var t=a.state.results;if(!j(t)){var n=parseInt(e.target.dataset.direction),r=[];1===n?r=Object.keys(t).sort(function(e,t){return e-t}):-1===n&&(r=Object.keys(t).sort(function(e,t){return t-e})),a.ResetDirection(),e.target.dataset.direction=-1*n,e.target.classList.add("sort-active"),a.FlipIconDirection(e.target),a.setState({sortedResults:a.SortByRanking(t,r)})}},a.SortProjectByAvg=function(e){var t=a.state.results;if(!j(t)){var n=parseInt(e.target.dataset.direction),r=[];r=1===n?Object.keys(t).sort(function(e,a){return t[e].finalAvgResults-t[a].finalAvgResults}):Object.keys(t).sort(function(e,a){return t[a].finalAvgResults-t[e].finalAvgResults}),a.ResetDirection(),e.target.dataset.direction=-1*n,e.target.classList.add("sort-active"),a.FlipIconDirection(e.target),a.setState({sortedResults:a.SortByRanking(t,r)})}},a.SortProjectByTrimmedAvg=function(e){var t=a.state.results;if(!j(t)){var n=parseInt(e.target.dataset.direction),r=[];r=1===n?Object.keys(t).sort(function(e,a){return t[e].finalTrimmedAvgResults-t[a].finalTrimmedAvgResults}):Object.keys(t).sort(function(e,a){return t[a].finalTrimmedAvgResults-t[e].finalTrimmedAvgResults}),a.ResetDirection(),e.target.dataset.direction=-1*n,e.target.classList.add("sort-active"),a.FlipIconDirection(e.target),a.setState({sortedResults:a.SortByRanking(t,r)})}},a.FlipIconDirection=function(e){e.classList.remove("sort-up","sort-down"),1===e.dataset.direction?e.classList.add("sort-up"):e.classList.add("sort-down")},a.ResetDirection=function(){document.querySelectorAll(".btn-sort").forEach(function(e){e.classList.remove("sort-active"),e.dataset.direction=1,a.FlipIconDirection(e)})},a.MakeCSVFile=function(){var e=a.state.exportList;if(!j(e)){var t="";t+="Rang;NoProjet;Note;Note Inter\n",e.map(function(e,a){for(var n in t+="".concat(a+1,";"),e)t+="".concat(n,";"),t+="".concat(e[n].finalAvgResults,";"),t+="".concat(e[n].finalInternationalResults?e[n].finalInternationalResults:0,"\n");return!0});var n=document.createElement("a");n.style.display="none",n.href="data:text/csv;charset=utf-8,"+encodeURI(t),n.target="_blank",n.download="DonneeClassement-1.csv",document.getElementById("linkContainer").appendChild(n),n.click()}},a.state={results:{},sortedResults:[],exportList:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params[0],a=this.props.final.selectedFinal,i=j(this.props.final.selectedFinal.results)?[]:this.props.final.selectedFinal.results,o=this.state.sortedResults.map(function(t,a){var n,i;Object.keys(t).map(function(e){return n=e,i=t[e].finalAvgResults,!0});var o=e.FindProject(n),s=o&&o[0]&&o[0].information.projectInformation.title;return r.a.createElement("div",{className:"col-12 row ranking-row my-1 py-2",key:a},r.a.createElement("div",{className:"col-2 text-center"},a+1),r.a.createElement("div",{className:"col-8 text-center"},"Projet ",n," | ",s),r.a.createElement("div",{className:"col-2 text-center"},void 0===i?r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle"})," Pas assez de jugements"):i.toFixed(3)))});return r.a.createElement(n.Fragment,null,r.a.createElement(he,{pageTitle:"Finale - Exportation",id:t,finalName:a.longName}),r.a.createElement("div",{id:"linkContainer"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row w-50 mx-auto mt-5"},r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("h1",null,"Exporter vos donn\xe9es")),r.a.createElement("div",{className:"row my-3 col-12"},r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("button",{type:"button",className:"btn btn-reseau btn-lg btn-block p-3",onClick:function(){e.CalculateResults(i)}},r.a.createElement("span",{className:"text-uppercase font-weight-bold"},"Mettre \xe0 jour le classement")))),r.a.createElement("div",{className:"row my-3 col-12 border-bottom pb-4"},r.a.createElement("div",{className:"mx-auto text-center"},r.a.createElement("button",{type:"button",className:"btn btn-reseau btn-success btn-block p-3",onClick:this.MakeCSVFile},r.a.createElement("span",{className:"text-uppercase font-weight-bold"},"Exporter en CSV")))),r.a.createElement("div",{className:"d-flex justify-content-around align-items-center col-12 my-3"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-reseau btn-sort sort-down",onClick:this.SortProjectByProjectNumber,"data-direction":"1"},"Trier par num\xe9ro de projet")),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-reseau btn-sort sort-up sort-active sort-default",onClick:this.SortProjectByAvg,"data-direction":"-1"},"Trier par r\xe9sultat")))),r.a.createElement("div",{className:"row w-50 mx-auto"},r.a.createElement("div",{className:"col-2 text-center"},"Ordre"),r.a.createElement("div",{className:"col-8 text-center"},"Num\xe9ro de projet"),r.a.createElement("div",{className:"col-2 text-center"},"R\xe9sultat")),r.a.createElement("div",{className:"row w-50 mx-auto mb-5"},o)),r.a.createElement("footer",{className:"text-center"},"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019."))}}]),t}(n.Component),et=Object(u.b)(function(e){return{auth:e.auth,final:e.final,project:e.project}},{SelectFinalById:re,SelectProjectsByFinalId:ke})(Ye),tt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){!a.props.auth.isAuthenticated||"ADMIN"!==a.props.auth.user.type&&"SUPER_ADMIN"!==a.props.auth.user.type||a.props.history.push("/admin/panneau-controle")},a.componentWillUnmount=function(){a.props.ClearErrors()},a.onSubmit=function(e){e.preventDefault();var t={email:a.state.email,pwd:a.state.password,type:"ADMIN"};a.props.adminLogin(t,a.props.history)},a.onChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.state={email:"",password:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors;return r.a.createElement("div",{className:"admin-login p-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row p-5"},r.a.createElement("div",{className:"col-8 offset-2 text-center"},r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:"logo"}),r.a.createElement("br",null),r.a.createElement("h6",null,"L'application du jugement ",r.a.createElement("br",null)," des Expo-sciences Hydro-Qu\xe9bec"))),r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col-6 offset-3 text-center"},r.a.createElement("h1",null,"Connexion"),r.a.createElement("h3",null,"Portail gestionnaire"))),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 offset-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"emailInput",className:"text-left"},"Utilisateur"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.email}),name:"email",id:"emailInput","aria-describedby":"helpId",placeholder:"Courriel",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwdInput"},"Mot de passe"),r.a.createElement("input",{type:"password",className:Ae()("form-control",{"is-invalid":e.pwd}),name:"password",id:"pwdInput",placeholder:"Mot de passe",value:this.state.password,onChange:this.onChange}),e.pwd&&r.a.createElement("div",{className:"invalid-feedback"},e.pwd)),r.a.createElement("div",{className:"form-group mt-5"},r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary btn-block text-capitalize"},"Connexion"),e.msg&&r.a.createElement("div",{className:"alert alert-info mt-2",role:"alert"},e.msg)))))))}}]),t}(n.Component),at=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{adminLogin:function(e,t){return function(a){B.a.post("/api/admin/connection",e).then(function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),G(n);var r=U()(n);a(V(r)),t.push("/admin/panneau-controle")}).catch(function(e){a({type:b,payload:e.response.data})})}},ClearErrors:ve})(Object(fe.a)(tt)),nt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(){a.props.logoutUser(a.props.history)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.props.auth.user.isAdmin,a=r.a.createElement("ul",{className:"nav nav-bar justify-content-around align-items-center px-5 py-3"},r.a.createElement(pe.a,{to:"/admin/panneau-controle",className:"px-3"},"Liste des finales"),r.a.createElement(pe.a,{to:"/admin/liste-admin",className:"px-3"},"Ajouter un administrateur"));return r.a.createElement(n.Fragment,null,r.a.createElement("ul",{className:"nav nav-bar justify-content-around align-items-center p-3"},r.a.createElement("li",null,r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:""})),r.a.createElement("li",{className:"text-center"},r.a.createElement("h1",null,"Portail gestionnaire"),r.a.createElement("h3",null,this.props.pageTitle)),e?r.a.createElement("li",{className:"nav-item text-right "},r.a.createElement(pe.a,{className:"nav-link",to:"#",onClick:this.onLogout},"D\xe9connexion"),r.a.createElement("small",null,"Connect\xe9 en tant que ",this.props.auth.user.firstName+" "+this.props.auth.user.lastName),r.a.createElement("br",null),r.a.createElement("small",null,this.props.auth.user.isAdmin?"Super administrateur":"Administrateur")):null),t?a:null)}}]),t}(n.Component),rt=Object(u.b)(function(e){return{auth:e.auth}},{logoutUser:z})(Object(fe.a)(nt)),it=function(){return function(e){B.a.get("/api/admin/all").then(function(t){e({type:y}),e({type:"GET_ALL_ADMIN",payload:t.data})}).catch(function(t){e({type:N,payload:{type:"GET_ALL_ADMIN",response:"fail"}}),e({type:b,payload:t.response.data})})}},ot=[{id:1,name:"R\xe9seau Technoscience"},{id:2,name:"Technoscience Abitibi-T\xe9miscamingue"},{id:3,name:"Technoscience C\xf4te-Nord"},{id:4,name:"Technoscience Est du Qu\xe9bec"},{id:5,name:"Estrie"},{id:6,name:"Technoscience Mauricie, Centre-du-Qu\xe9bec"},{id:7,name:"Technoscience R\xe9gion M\xe9tropolitaine - Mont\xe9r\xe9gie"},{id:8,name:"Technoscience R\xe9gion M\xe9tropolitaine - Montr\xe9al"},{id:9,name:"Alliance pour l'enseignement de la science et de la technologie"},{id:10,name:"Technoscience Outaouais"},{id:11,name:"Boite \xe0 science"},{id:12,name:"Technoscience R\xe9gion M\xe9tropolitaine - Rive-Nord"},{id:13,name:"Technoscience Saguenay-Lac-Saint-Jean"}],st=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentWillUnmount=function(){a.props.ClearResponse()},a.componentDidUpdate=function(e,t){a.props.action.response!==e.action.response&&"success"===a.props.action.response&&a.ResetForm()},a.ResetForm=function(){a.setState(a.initialState)},a.OnSubmit=function(e){e.preventDefault(),a.props.AddAdmin(a.state)},a.OnChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.OnCheck=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.checked))},a.OnSelect=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.selectedOptions[0].value))},a.state={email:"",pwd:"",pwd2:"",firstName:"",lastName:"",phone:"",organization:"",isAdmin:!1},a.initialState=a.state,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors,t=this.props.action,a=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Administrateur ajout\xe9",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n=ot.map(function(e){return r.a.createElement("option",{value:e.name,key:e.id},e.name)});return r.a.createElement("form",{onSubmit:this.OnSubmit,className:"p-5",autoComplete:"nope"},r.a.createElement("input",{id:"username",style:{display:"none"},type:"text",name:"fakeusernameremembered"}),r.a.createElement("input",{id:"password",style:{display:"none"},type:"password",name:"fakepasswordremembered"}),r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fa fa-plus-circle"}),"  ","Ajouter un administrateur"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h5",null,"Informations")),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"isAdmin",name:"isAdmin",onChange:this.OnCheck,checked:this.state.isAdmin}),r.a.createElement("label",{className:"form-check-label",htmlFor:"isAdmin"},"Est super administrateur?")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Nom d'utilisateur"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.email}),name:"email",id:"email",placeholder:"Courriel",onChange:this.OnChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Mot de passe"),r.a.createElement("input",{type:"password",className:Ae()("form-control",{"is-invalid":e.pwd}),name:"pwd",id:"pwd",placeholder:"Mot de passe",onChange:this.OnChange,value:this.state.pwd}),e.pwd&&r.a.createElement("div",{className:"invalid-feedback"},e.pwd)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Veuillez confirmer le mot de passe"),r.a.createElement("input",{type:"password",className:Ae()("form-control",{"is-invalid":e.pwd2}),name:"pwd2",id:"pwd2",placeholder:"Mot de passe",onChange:this.OnChange,value:this.state.pwd2}),e.pwd2&&r.a.createElement("div",{className:"invalid-feedback"},e.pwd2)),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"Pr\xe9nom"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.firstName}),name:"firstName",id:"firstName",placeholder:"Pr\xe9nom",onChange:this.OnChange,value:this.state.firstName}),e.firstName&&r.a.createElement("div",{className:"invalid-feedback"},e.firstName)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Nom de famille"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.lastName}),name:"lastName",id:"lastName",placeholder:"Nom de famille",onChange:this.OnChange,value:this.state.lastName}),e.lastName&&r.a.createElement("div",{className:"invalid-feedback"},e.lastName)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Num\xe9ro de t\xe9l\xe9phone \xe0 contacter durant la finale"),r.a.createElement("input",{type:"tel",className:Ae()("form-control",{"is-invalid":e.phone}),id:"phone",name:"phone",pattern:"[0-9]{3} [0-9]{3}-[0-9]{4}",placeholder:"222 222-2222",onChange:this.OnChange,value:this.state.phone}),e.phone&&r.a.createElement("div",{className:"invalid-feedback"},e.phone)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"organization"},"Organisme r\xe9gional"),r.a.createElement("select",{className:Ae()("form-control custom-select",{"is-invalid":e.organization}),name:"organization",id:"organization",value:this.state.organization,onChange:this.OnSelect},r.a.createElement("option",{value:""},"Choisir un organisme"),n),e.organization&&r.a.createElement("div",{className:"invalid-feedback"},e.organization)),r.a.createElement("button",{type:"submit",className:"btn form-control"},r.a.createElement("i",{className:"fa fa-plus-circle fa-lg"})," Cr\xe9er l'utilisateur"),"ADD_NEW_ADMIN"===t.type&&"success"===t.response?a:null)}}]),t}(n.Component),lt=Object(u.b)(function(e){return{errors:e.errors,action:e.action}},{AddAdmin:function(e){return function(t){B.a.post("/api/admin/register",e).then(function(e){t({type:N,payload:{type:"ADD_NEW_ADMIN",response:"success"}}),t({type:y}),t({type:"ADD_NEW_ADMIN",payload:e.data}),t(it())}).catch(function(e){t({type:N,payload:{type:"ADD_NEW_ADMIN",response:"fail"}}),t({type:b,payload:e.response.data})})}},ClearResponse:be})(st),ct=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).DeleteAdmin=function(e){null!==a.props.admin&&void 0!==a.props.admin?a.props.DeleteAdmin(a.props.admin):console.log("Err DeleteAdmin():No admin found")},a.UpdateAdmin=function(e){null!==a.props.admin&&void 0!==a.props.admin?a.props.UpdateAdmin(a.props.admin):console.log("Err UpdateAdmin():No admin found")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.admin,t=e.email,a=e.firstName,n=e.lastName,i=e.phone,o=e.organization,s=e.isAdmin;return r.a.createElement("div",{className:"row border-bottom"},r.a.createElement("div",{className:"col-7"},r.a.createElement("p",null,"".concat(a," ").concat(n," - ").concat(s?"Super admin":"Admin"),r.a.createElement("br",null),r.a.createElement("small",null,"".concat(o)))),r.a.createElement("div",{className:"col d-flex flew-row justify-content-around align-items-start"},r.a.createElement("a",{className:"icon-button",href:"tel:".concat(i)},r.a.createElement("i",{className:"fas fa-phone"})),r.a.createElement("a",{className:"icon-button",href:"mailto:".concat(t)},r.a.createElement("i",{className:"fas fa-envelope"})),r.a.createElement("button",{className:"icon-button",onClick:this.UpdateAdmin},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("button",{className:"icon-button",onClick:this.DeleteAdmin},r.a.createElement("i",{className:"fas fa-trash"}))))}}]),t}(n.Component),mt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.SetAdminInfo(a.props.admin)},a.componentWillUnmount=function(){},a.SetAdminInfo=function(e){a.setState(e)},a.UpdateAdmin=function(e){document.getElementById("closeModalBtn").click(),a.props.UpdateAdmin(a.state)},a.ClearForm=function(){a.setState(a.initialState),a.props.ClearModal()},a.OnSubmit=function(e){e.preventDefault()},a.OnChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.OnCheck=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.checked))},a.OnSelect=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.selectedOptions[0].value))},a.state={email:"",firstName:"",lastName:"",phone:"",organization:"",isAdmin:!1},a.initialState=a.state,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors,t=ot.map(function(e){return r.a.createElement("option",{value:e.name,key:e.id},e.name)});return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"modal fade",id:"updateAdminModal",role:"dialog","data-backdrop":"static","data-keyboard":"false"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:this.OnSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h5",null,"Informations")),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"isAdmin",name:"isAdmin",onChange:this.OnCheck,checked:this.state.isAdmin}),r.a.createElement("label",{className:"form-check-label",htmlFor:"isAdmin"},"Est super administrateur?")))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Nom d'utilisateur"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.email}),name:"email",id:"email",placeholder:"Courriel",disabled:"disabled",value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"Pr\xe9nom"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.firstName}),name:"firstName",id:"firstName",placeholder:"Pr\xe9nom",onChange:this.OnChange,value:this.state.firstName}),e.firstName&&r.a.createElement("div",{className:"invalid-feedback"},e.firstName)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Nom de famille"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.lastName}),name:"lastName",id:"lastName",placeholder:"Nom de famille",onChange:this.OnChange,value:this.state.lastName}),e.lastName&&r.a.createElement("div",{className:"invalid-feedback"},e.lastName)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"phone"},"Num\xe9ro de t\xe9l\xe9phone \xe0 contacter durant la finale"),r.a.createElement("input",{type:"tel",className:Ae()("form-control",{"is-invalid":e.phone}),id:"phone",name:"phone",pattern:"[0-9]{3} [0-9]{3}-[0-9]{4}",placeholder:"222 222-2222",onChange:this.OnChange,value:this.state.phone}),e.phone&&r.a.createElement("div",{className:"invalid-feedback"},e.phone)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"organization"},"Organisme r\xe9gional"),r.a.createElement("select",{className:Ae()("form-control custom-select",{"is-invalid":e.organization}),name:"organization",id:"organization",value:this.state.organization,onChange:this.OnSelect},r.a.createElement("option",{value:""},"Choisir un organisme"),t),e.organization&&r.a.createElement("div",{className:"invalid-feedback"},e.organization)),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn mr-3",type:"button",onClick:this.UpdateAdmin},r.a.createElement("i",{className:"fas fa-save"})," Modifier l'utilisateur"),r.a.createElement("button",{id:"closeModalBtn",className:"btn btn-default","data-dismiss":"modal",onClick:this.ClearForm},r.a.createElement("i",{className:"fas fa-times"})," Annuler"))))))))}}]),t}(n.Component),pt=Object(u.b)(function(e){return{action:e.action,errors:e.errors}})(mt),ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.GetAllAdmins()},a.componentWillUnmount=function(){a.props.ClearResponse()},a.ShowUpdateModal=function(e){a.setState({selectedAdmin:e},function(){var e=r.a.createElement(pt,{admin:a.state.selectedAdmin,UpdateAdmin:a.UpdateAdmin,ClearModal:a.ClearModal});a.setState({modal:e},function(){document.getElementById("updateModalBtn").click()})})},a.UpdateAdmin=function(e){a.props.UpdateAdmin(e)},a.ClearModal=function(){a.setState({modal:""})},a.DeleteAdmin=function(e){a.props.DeleteAdmin(e._id)},a.state={selectedAdmin:{},modal:""},a.initialState=a.state,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.action,a=this.props.admin.adminList.map(function(t){return r.a.createElement(ct,{admin:t,UpdateAdmin:e.ShowUpdateModal,DeleteAdmin:e.DeleteAdmin,key:t._id})}),n=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Administrateur supprim\xe9",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Administrateur modifi\xe9",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")));return r.a.createElement("div",{className:"p-5"},r.a.createElement("button",{id:"updateModalBtn",className:"icon-button","data-target":"#updateAdminModal","data-toggle":"modal",style:{display:"hidden"}}),this.state.modal,r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fas fa-list-ul"}),"  ","Liste des utilisateurs"),"DELETE_ADMIN"===t.type&&"success"===t.response?n:null,"UPDATE_ADMIN"===t.type&&"success"===t.response?i:null,r.a.createElement("div",{className:"list-group list-group-flush"},a))}}]),t}(n.Component),dt=Object(u.b)(function(e){return{admin:e.admin,errors:e.errors,action:e.action}},{GetAllAdmins:it,DeleteAdmin:function(e){return function(t){B.a.delete("/api/admin/id",{params:{adminId:e}}).then(function(e){t({type:N,payload:{type:"DELETE_ADMIN",response:"success"}}),t({type:y}),t({type:"DELETE_ADMIN",payload:e.data}),t(it())}).catch(function(e){t({type:N,payload:{type:"DELETE_ADMIN",response:"fail"}}),t({type:b,payload:e.response.data})})}},UpdateAdmin:function(e){return function(t){B.a.put("/api/admin/update",e).then(function(e){t({type:N,payload:{type:"UPDATE_ADMIN",response:"success"}}),t({type:y}),t({type:"UPDATE_ADMIN",payload:e.data}),t(it())}).catch(function(e){t({type:N,payload:{type:"UPDATE_ADMIN",response:"fail"}}),t({type:b,payload:e.response.data})})}},ClearResponse:be})(ut),ft=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(rt,{pageTitle:"Gestion des administrateurs"}),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-md-6 spliter"},r.a.createElement(lt,null)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(dt,null)))))}}]),t}(n.Component),gt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).ToggleFinalActivation=function(e){null!==a.props.final&&void 0!==a.props.final?a.props.ToggleFinalActivation(a.props.final._id):console.log("Err ToggleActivationFinal():No final found")},a.GoTo=function(e){a.props.history.push(e)},a.RenderDate=function(e){return new Date(Date.parse(e)).toLocaleDateString("fr-CA",{timeZone:"UTC"})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.final,t=e._id,a=e.longName,n=e.isActive,i=e.level,o=e.eventDate;return r.a.createElement("div",{className:"row border-bottom"},r.a.createElement("div",{className:"col-9"},r.a.createElement("p",{className:"p-0 m-0"},a,"-"," ",n?r.a.createElement("span",{className:"text-info"},"Actif"):r.a.createElement("span",{className:"text-muted"},"Inactif")),r.a.createElement("small",null,"Volet"," ","elementary"===i?"primaire":"highschool"===i?"secondaire":null," ","- ",this.RenderDate(o))),r.a.createElement("div",{className:"col d-flex flew-row justify-content-around align-items-start"},r.a.createElement("button",{className:"icon-button",onClick:this.ToggleFinalActivation},n?r.a.createElement("i",{className:"fas fa-2x fa-toggle-on text-info"}):r.a.createElement("i",{className:"fas fa-2x fa-toggle-off text-muted"})),r.a.createElement(pe.a,{to:"/admin/finale/".concat(t,"/infos"),className:"icon-button"},r.a.createElement("i",{className:"fas fa-2x fa-sign-out-alt"}))))}}]),t}(n.Component),ht=Object(fe.a)(gt),Et=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.GetAllFinals(a.props.auth.user.id,a.props.auth.user.isAdmin)},a.ToggleFinalActivation=function(e){a.props.ToggleFinalActivation(e,a.props.auth.user.isAdmin,a.props.auth.user.id)},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.final.finalList.map(function(t){return r.a.createElement(ht,{key:t._id,final:t,ToggleFinalActivation:e.ToggleFinalActivation})});return r.a.createElement("div",{className:"p-5"},r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fas fa-list-ul"}),"  ","Vos finales"),r.a.createElement("div",{className:"list-group list-group-flush"},t))}}]),t}(n.Component),vt=Object(u.b)(function(e){return{auth:e.auth,final:e.final}},{GetAllFinals:ie,GetFinalsFromUser:se,ToggleFinalActivation:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(n){B.a.put("/api/final/activate-final",{finalId:e}).then(function(e){n({type:y}),n(ie(a,t))}).catch(function(e){n({type:N,payload:{type:"DELETE_FINAL",response:"fail"}}),n({type:b,payload:e.response.data})})}}})(Et),bt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.SetFinalInfo(a.props.finalInfos)},a.componentWillUnmount=function(){},a.componentDidUpdate=function(e,t){e.errors!==a.props.errors&&a.props.errors.hasOwnProperty("msg")&&a.CloseModal(),e.action!==a.props.action&&"CREATE_FINAL"===a.props.action.type&&"success"===a.props.action.response&&a.CloseModal()},a.SetFinalInfo=function(e){a.setState(e)},a.FormatFinalInfos=function(){var e=a.CopyObject(a.state.event,["_id","eventDate","location","longName","shortName","program","region","level","isSuperExpo"]);e.adminId=a.props.auth.user.id,console.log("NEW EVENT",e),e.judges=a.state.judges.map(function(e){return e._id}),e.projects=a.state.projects.map(function(e){return e._id});var t=a.state.judges.map(function(e){var t={};return t.number=e.number,t.information=a.CopyObject(e.information,["education","generalInformation","judgingPreference","judgingExperience","work"]),t.judgeId=e._id,t.finalId=a.state.event._id,t}),n={},r=a.state.projects.map(function(e){return e.participants=a.state.participants.filter(function(t){return t.project===e._id}),e.participants=e.participants.map(function(e){return a.CopyObject(e,["_id","information"])}),e.projectId=e._id,e.finalId=a.state.event._id,void 0!==e.number&&(n[e.number]={}),a.CopyObject(e,["projectId","classification","participants","information","number","finalId"])});return e.results=n,{event:e,judges:t,projects:r}},a.CreateFinal=function(e){var t=["!","$","*","+"],n=t[Math.floor(Math.random()*t.length)];a.props.ClearJudgesList(),a.props.ClearProjectsList();var r=Object(Ee.a)(a),i=a.FormatFinalInfos();i.event.specialCharacter=n,a.props.CreateFinal(i.event),i.judges.map(function(e){return e.specialCharacter=n,r.props.CreateJudge(e),null}),i.projects.map(function(e){return r.props.CreateProject(e),null})},a.SaveFinal=function(){},a.CloseModal=function(){document.getElementById("closeModalBtn").click()},a.ClearForm=function(){a.setState(a.initialState),a.props.ClearModal()},a.OnSubmit=function(e){e.preventDefault()},a.OnChange=function(e){var t=a.state.event;t[e.target.name]=e.target.value,a.setState({event:t})},a.OnCheck=function(e){var t=a.state.event;t[e.target.name]=e.target.checked,a.setState({event:t})},a.OnSelect=function(e){var t=a.state.event;t[e.target.name]=e.target.selectedOptions[0].value,a.setState({event:t})},a.CopyObject=function(e,t){var a={};return t.map(function(t){return e.hasOwnProperty(t)&&(a[t]=e[t]),t}),a},a.RenderDate=function(e){return new Date(e).toLocaleDateString("fr-CA",{timeZone:"UTC"})},a.state={event:{},participants:{},projects:{},judges:{},volet:"",organization:""},a.initialState=a.state,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors,t=this.state,a=t.event,i=t.judges,o=t.participants,s=t.projects,l=ot.map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)});return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"modal fade",id:"createFinalModal",role:"dialog","data-backdrop":"static","data-keyboard":"false"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{onSubmit:this.OnSubmit},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",null,"Confirmation des informations")),r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"finalName"},"Nom de la finale"),r.a.createElement("input",{type:"text",className:"form-control",name:"finalName",id:"finalName",defaultValue:a?a.longName:"",disabled:"disabled"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"finalName"},"Date de d\xe9but"),r.a.createElement("input",{type:"text",className:"form-control",name:"finalName",id:"finalName",value:a?this.RenderDate(a.eventDateStart):"",disabled:"disabled"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"finalName"},"Date de fin"),r.a.createElement("input",{type:"text",className:"form-control",name:"finalName",id:"finalName",value:a?this.RenderDate(a.eventDateEnd):"",disabled:"disabled"})),r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"finalName"},"Nb de participants"),r.a.createElement("input",{type:"text",className:"form-control",name:"finalName",id:"finalName",value:o?o.length+" participants":"",disabled:"disabled"})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"finalName"},"Nb de projets"),r.a.createElement("input",{type:"text",className:"form-control",name:"finalName",id:"finalName",value:s?s.length+" projets":"",disabled:"disabled"})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"finalName"},"Nb de juges"),r.a.createElement("input",{type:"text",className:"form-control",name:"finalName",id:"finalName",value:i?i.length+" juges":"",disabled:"disabled"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"organization"},"Organisme r\xe9gional"),r.a.createElement("select",{className:Ae()("form-control custom-select",{"is-invalid":e.organization}),name:"organization",id:"organization",value:this.state.event.region,onChange:this.OnSelect,disabled:!0},r.a.createElement("option",{value:""},"Choisir un organisme"),l),e.organization&&r.a.createElement("div",{className:"invalid-feedback"},e.organization)),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h5",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle text-danger"}),"Veuillez compl\xe9ter les informations suivantes")),r.a.createElement("div",{className:"col-md-12 form-group"},r.a.createElement("label",{htmlFor:"shortName"},"Nom de la finale pour mobile (60 caract\xe8res max)"),r.a.createElement("input",{type:"text",className:"form-control",name:"shortName",id:"shortName",placeholder:"Maximum 60 caract\xe8res",onChange:this.OnChange,maxLength:"60"})),r.a.createElement("div",{className:"col-md-12 form-group"},r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:Ae()("custom-control-input",{"is-invalid":e.level}),type:"radio",name:"level",id:"elementaryLvl",value:"elementary",onChange:this.OnChange}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"elementaryLvl"},"Volet primaire")),r.a.createElement("div",{className:"custom-control custom-radio"},r.a.createElement("input",{className:Ae()("custom-control-input mb-2",{"is-invalid":e.level}),type:"radio",name:"level",id:"highschoolLvl",value:"highschool",onChange:this.OnChange}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"highschoolLvl"},"Volet secondaire/coll\xe9gial"),e.level&&r.a.createElement("div",{className:"invalid-feedback"},e.level)),"SUPER_ADMIN"===this.props.auth.user.type&&r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{className:Ae()("custom-control-input mb-2",{"is-invalid":e.isSuperExpo}),type:"checkbox",name:"isSuperExpo",id:"superLvl",value:!0,onChange:this.OnCheck}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"superLvl"},"Super expo-sciences"),e.isSuperExpo&&r.a.createElement("div",{className:"invalid-feedback"},e.isSuperExpo))),r.a.createElement("button",{className:"btn mr-3",type:"button",onClick:this.CreateFinal},r.a.createElement("i",{className:"fas fa-save"})," Cr\xe9er la finale"),r.a.createElement("button",{id:"closeModalBtn",className:"btn btn-default","data-dismiss":"modal",onClick:this.ClearForm},r.a.createElement("i",{className:"fas fa-times"})," Annuler"))))))))}}]),t}(n.Component),yt=Object(u.b)(function(e){return{auth:e.auth,action:e.action,errors:e.errors,final:e.final}})(bt),Nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).ShowCreateFinalModal=function(e){var t=r.a.createElement(yt,{finalInfos:a.state.finalInfos,CreateFinal:a.CreateFinal,CreateJudge:a.CreateJudge,CreateProject:a.CreateProject,ClearModal:a.ClearModal,ClearJudgesList:a.props.ClearJudgesList,ClearProjectsList:a.props.ClearProjectsList});a.setState({modal:t},function(){document.getElementById("createModalBtn").click()})},a.ClearModal=function(){a.setState({modal:""})},a.CreateFinal=function(e){var t=a.props.auth.user.id,n=a.props.auth.user.isAdmin;a.props.CreateFinal(e,t,n)},a.CreateJudge=function(e){a.props.CreateJudge(e)},a.CreateProject=function(e){a.props.CreateProject(e)},a.OnFileSelect=function(e){a.setState({file:e.target.files[0]})},a.OnImportData=function(){if(""!==a.state.file&&void 0!==a.state.file){var e=new FileReader,t=Object(Ee.a)(a);e.onload=function(n){var r=e.result;r=JSON.parse(r),t.setState({finalInfos:r},function(){a.ShowCreateFinalModal()})},e.readAsText(a.state.file)}},a.OnSubmit=function(e){e.preventDefault()},a.state={finalInfos:{},file:"",modal:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.errors,i=r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show mt-3",role:"alert"},a.msg,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearErrors},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o=r.a.createElement("div",{className:"alert alert-success alert-dismissible fade show mt-3",role:"alert"},"Finale ajout\xe9e",r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.ClearResponse},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")));return r.a.createElement(n.Fragment,null,this.state.modal,r.a.createElement("div",{className:"p-5"},r.a.createElement("h4",{className:"section-header"},r.a.createElement("i",{className:"fas fa-plus-circle"}),"  ","Importer une finale"),r.a.createElement("form",{onSubmit:this.OnSubmit},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col"},r.a.createElement("label",{htmlFor:"finalJsonImport",className:"btn btn-accent2 btn-lg btn-block"},"S\xe9lectionner le fichier"),r.a.createElement("input",{id:"finalJsonImport",name:"file",type:"file",accept:"application/json",multiple:!1,onChange:this.OnFileSelect,style:{display:"none"}}),r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-exclamation-circle fa-sm"})," Veuiller choisir le fichier JSON depuis SGI"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row py-3"},r.a.createElement("div",{className:"col-md-6 offset-3"},r.a.createElement("p",null,r.a.createElement("small",null,"Nom du fichier s\xe9lectionn\xe9"),r.a.createElement("br",null),j(this.state.file.name)?r.a.createElement("em",null,"Aucun fichier s\xe9lectionn\xe9"):this.state.file.name))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-3"},r.a.createElement("input",{type:"submit",className:"btn",name:"jsonSubmit",id:"jsonSubmit",value:"D\xe9marrer l'importation",onClick:this.OnImportData})))),r.a.createElement("hr",null),a.msg&&i,"CREATE_FINAL"===t.type&&"success"===t.response?o:null,r.a.createElement("button",{id:"createModalBtn",className:"icon-button","data-target":"#createFinalModal","data-toggle":"modal",style:{display:"none"}})))}}]),t}(n.Component),jt=Object(u.b)(function(e){return{auth:e.auth,action:e.action,errors:e.errors,final:e.final}},{ClearResponse:be,ClearErrors:ve,CreateFinal:function(e,t,a){return function(n){B.a.post("/api/final/create",e).then(function(e){n({type:N,payload:{type:"CREATE_FINAL",response:"success"}}),n({type:y}),n({type:"CREATE_FINAL",payload:e.data}),n(ie(t,a))}).catch(function(e){n({type:N,payload:{type:"CREATE_FINAL",response:e}}),n({type:b,payload:e.response.data})})}},CreateJudge:function(e){return function(t){B.a.post("/api/judge/create",e).then(function(e){t({type:"CREATE_JUDGE",payload:e.data}),t({type:N,payload:{type:"CREATE_JUDGE",response:"success"}}),t({type:y})}).catch(function(e){console.log(e),t({type:N,payload:{type:"CREATE_JUDGE",response:"fail"}}),t({type:b,payload:e.response.data})})}},CreateProject:function(e){return function(t){B.a.post("/api/project/create",e).then(function(e){t({type:N,payload:{type:"CREATE_PROJECT",response:"success"}}),t({type:y}),t({type:"CREATE_PROJECT",payload:e.data})}).catch(function(e){console.log(e),t({type:N,payload:{type:"CREATE_PROJECT",response:"fail"}}),t({type:b,payload:e.response.data})})}},ClearJudgesList:Y,ClearProjectsList:we})(Nt),Ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.setState({_id:a.props.auth.user.id})},a.onSubmit=function(e){e.preventDefault(),a.props.InitPwd(a.state)},a.onChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.state={oldPwd:"",pwd:"",pwd2:"",_id:""},a.initialState=a.state,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.errors;return r.a.createElement("div",{className:"p-5 admin-login"},r.a.createElement("h1",null,"Bienvenue sur l'application Jugement mobile"),r.a.createElement("p",null,"Veuillez modifier votre mot de passe avant de continuer. Ce dernier doit comporter au minimum 8 caract\xe8res, une majuscule et un chiffre."),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Nouveau mot de passe"),r.a.createElement("input",{type:"password",className:Ae()("form-control",{"is-invalid":e.pwd}),name:"pwd",id:"pwd",placeholder:"Mot de passe",onChange:this.onChange}),e.pwd&&r.a.createElement("div",{className:"invalid-feedback"},e.pwd)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd2"},"Veuillez confirmer votre nouveau mot de passe"),r.a.createElement("input",{type:"password",className:Ae()("form-control",{"is-invalid":e.pwd2}),name:"pwd2",id:"pwd2",placeholder:"Mot de passe",onChange:this.onChange}),e.pwd2&&r.a.createElement("div",{className:"invalid-feedback"},e.pwd2)),r.a.createElement("input",{type:"submit",value:"Soumettre"})))}}]),t}(n.Component),Ot=Object(u.b)(function(e){return{auth:e.auth,errors:e.errors}},{InitPwd:function(e){return function(t){B.a.put("/api/admin/init-pwd",e).then(function(e){t(z())}).catch(function(e){t({type:b,payload:e.response.data})})}}})(Ct),St=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.ClearJudgesList(),a.props.ClearProjectsList(),a.props.ClearSelectedFinal()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth.user;return r.a.createElement(n.Fragment,null,e.newAdmin?r.a.createElement(Ot,null):r.a.createElement(n.Fragment,null,r.a.createElement(rt,{pageTitle:"Vue de l'ensemble des finales"}),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row py-5"},r.a.createElement("div",{className:"col-md-6 spliter"},r.a.createElement(jt,null)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(vt,null)))),r.a.createElement("footer",{className:"text-center"},"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019.")))}}]),t}(n.Component),At=Object(u.b)(function(e){return{auth:e.auth}},{ClearJudgesList:Y,ClearProjectsList:we,ClearSelectedFinal:function(){return function(e){e({type:"CLEAR_FINAL"})}}})(St),It=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).OnChange=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value))},a.OnChangeLower=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.value.toLowerCase()))},a.OnSelect=function(e){a.setState(Object(Oe.a)({},e.target.name,e.target.selectedOptions[0].dataset.id))},a.OnSubmit=function(e){e.preventDefault(),a.props.Login(a.state,a.props.history)},a.state={finalId:"",username:"",pwd:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.GetAllActiveFinalsIds(),this.props.auth.isAuthenticated&&"JUDGE"===this.props.auth.user.type&&this.props.history.push("/mon-jugement")}},{key:"render",value:function(){var e=this.props.errors,t=this.props.final.finalList.map(function(e){return r.a.createElement("option",{className:"judge-finals-options",value:e._id,"data-id":e._id,key:e._id},e.shortName)});return r.a.createElement("div",{className:"judge-login"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row p-4 p-md-5"},r.a.createElement("div",{className:"col-md-4 text-center offset-md-2 d-none d-md-block"},r.a.createElement("img",{className:"logo",src:"/img/logo_exs_mobile.png",alt:"logo"})),r.a.createElement("div",{className:"col-md-4 text-center d-none d-md-block"},r.a.createElement("img",{className:"logo",src:"/img/logo_mobile.png",alt:"logo"})),r.a.createElement("div",{className:"col-md-4 text-center offset-md-2 d-md-none"},r.a.createElement("img",{className:"logo",src:"/img/logo_exs.png",alt:"logo"})),r.a.createElement("div",{className:"col-md-4 text-center d-md-none"},r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:"logo"}))),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-md-6 mx-auto"},r.a.createElement("h5",null,"L'application du jugement ",r.a.createElement("br",null)," des Expo-sciences Hydro-Qu\xe9bec"),r.a.createElement("h6",{className:"my-3"},"Une application Web du R\xe9seau Technoscience"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Connexion"),r.a.createElement("p",{className:"lead text-center"},"Juges"),r.a.createElement("form",{onSubmit:this.OnSubmit},r.a.createElement("input",{type:"email",style:{display:"none"}}),r.a.createElement("input",{type:"password",style:{display:"none"}}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"finalId"},"Finale r\xe9gionale des Expo-sciences Hydro-Qu\xe9bec"),r.a.createElement("select",{className:Ae()("selectpicker custom-select",{"is-invalid":e.finalId}),name:"finalId",id:"finalId",value:this.state.finalId,onChange:this.OnSelect},r.a.createElement("optgroup",{className:"judge-finals-options"},r.a.createElement("option",{value:""},"S\xe9lectionner la finale"),t)),e.finalId&&r.a.createElement("div",{className:"invalid-feedback"},e.finalId)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Courriel"),r.a.createElement("input",{type:"text",className:Ae()("form-control",{"is-invalid":e.username}),name:"username",id:"username",placeholder:"Courriel",value:this.state.username,onChange:this.OnChangeLower}),e.username&&r.a.createElement("div",{className:"invalid-feedback"},e.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pwd"},"Mot de passe"),r.a.createElement("input",{type:"password",className:Ae()("form-control",{"is-invalid":e.pwd}),placeholder:"Mot de passe",name:"pwd",id:"pwd",value:this.state.pwd,onChange:this.OnChange}),e.pwd&&r.a.createElement("div",{className:"invalid-feedback"},e.pwd)),r.a.createElement("input",{type:"submit",className:"btn btn-info btn-block my-4",value:"Se connecter"})))),r.a.createElement("footer",{className:"text-center"},"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019.")))}}]),t}(n.Component),xt=Object(u.b)(function(e){return{auth:e.auth,final:e.final,errors:e.errors}},{Login:function(e,t){return function(a){B.a.post("/api/judge/login",e).then(function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),G(n);var r=U()(n);a(Z(r)),t.push("/mon-jugement")}).catch(function(e){a({type:b,payload:e.response.data})})}},GetAllActiveFinalsIds:function(){return function(e){B.a.get("/api/final/all-active-ids").then(function(t){e({type:y}),e({type:"GET_ALL_FINALS",payload:t.data})}).catch(function(t){e({type:N,payload:{type:"GET_ALL_FINALS",response:"fail"}}),e({type:b,payload:t.response.data})})}}})(Object(fe.a)(It)),kt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row no-gutter"},r.a.createElement("div",{className:"col-4 offset-7"},r.a.createElement("div",{className:"btn btn-reseau mb-4",onClick:this.props.LogoutJudge},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-lock"}))," ","D\xe9connecter")),r.a.createElement("div",{className:"col-12 col-md-6 text-left logo-container d-md-none"},r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:"logo jugement mobile"})),r.a.createElement("div",{className:"col-6 col-md-6 text-left d-none"},r.a.createElement("img",{className:"logo",src:"/img/logo_exs.png",alt:"logo Expo-sciences"})),r.a.createElement("div",{className:"col-12 col-md-6 text-left d-none"},r.a.createElement("img",{className:"logo",src:"/img/logo.png",alt:"logo jugement mobile"})))}}]),t}(n.Component),wt=Object(u.b)(null,{LogoutJudge:$})(kt),Ft=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.GetJudgeProject(a.props.auth.user.finalId,a.props.auth.user.number),a.props.SelectFinalById(a.props.auth.user.finalId),a.props.CheckFinalActive(a.props.auth.user.finalId)},a.componentWillUnmount=function(){a.props.CheckFinalActive(a.props.auth.user.finalId)},a.CheckIfIsComplete=function(e,t){var n=a.props.final.selectedFinal.results,r=!1;return!j(n)&&(j(n[e])||j(n[e][t])||(r=n[e][t].isComplete),r)},a.CheckExistingResult=function(e,t,a){return!j(a)&&(!j(a[e])&&(!j(a[e][t])&&!!a[e][t].hasOwnProperty("results")))},a.ImportResults=function(e,t,a){return a[e][t]},a.state={projects:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.project.projectsList,a=this.props.final.selectedFinal.results,n=t?Object.keys(t).map(function(n){var i=e.CheckIfIsComplete(t[n].project,t[n].judge),o=i?r.a.createElement("span",null,"Projet ",t[n].project," | Jugement compl\xe9t\xe9"):r.a.createElement("span",null,"Projet ",t[n].project," | Jugement incomplet"),s=i?r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-check"})):null;return null!==t[n].project&&r.a.createElement("div",{className:Ae()("row mb-3 period-row p-2",{"is-complete":i}),key:t[n].project},r.a.createElement("div",{className:"col-md-1"},s),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("span",{className:""},r.a.createElement("strong",null,"P\xe9riode ",String.fromCharCode(64+t[n].period)))),r.a.createElement("div",{className:"col"},r.a.createElement(pe.a,{to:{pathname:"/projet/".concat(t[n].project),state:{period:t[n].period,project:t[n].project,judge:e.props.auth.user.number,finalId:e.props.auth.user.finalId,isAdmin:!1,results:e.CheckExistingResult(t[n].project,e.props.auth.user.number,a)?e.ImportResults(t[n].project,e.props.auth.user.number,a):{}}}},o," ",r.a.createElement("span",{className:"ml-3"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})))))}):"Aucun projet d'assign\xe9 pour l'instant",i=this.props.auth.user.information.generalInformation,o=i.gender,s=i.lastName,l=i.firstName,c=this.props.auth.user.number,m=r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 py-2"},r.a.createElement("hr",null),r.a.createElement("p",{className:"lead py-3 text-center"},r.a.createElement("strong",null,"F"===o?"Mme":"M"===o?"M.":null," ",l," ",s," ,"),"le R\xe9seau Technoscience vous remercie de soutenir la rel\xe8ve scientifique lors des Expo-sciences Hydro-Qu\xe9bec!"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-12"},r.a.createElement("h4",null,"Instructions")),r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,"Ci-dessous sont les projets, affich\xe9s par p\xe9riode de jugement, que vous aurez \xe0 juger en tant que ",r.a.createElement("strong",null,"juge no ",c),"."),r.a.createElement("p",null,"Les projets dont le jugement est incomplet sont affich\xe9s"," ",r.a.createElement("strong",null,"en orange"),"."),r.a.createElement("p",null,"Les projets dont le jugement est complet sont affich\xe9s"," ",r.a.createElement("strong",null,"en vert"),"."),r.a.createElement("p",null,"Vous pouvez modifier un jugement, m\xeame s'il est complet, tant que le processus de jugement n'est pas termin\xe9."))),p=r.a.createElement("footer",null,"L'application ",r.a.createElement("strong",null,"Jugement mobile")," a \xe9t\xe9 d\xe9velopp\xe9e par le"," ",r.a.createElement("a",{href:"http://technoscience.ca",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("em",null,"R\xe9seau Technoscience")),", \xa9 2019.");return r.a.createElement("div",{className:"judge-dashboard "},r.a.createElement("div",{className:"container p-4 p-md-5"},r.a.createElement(wt,null),m,r.a.createElement("hr",null),r.a.createElement("h1",null,"Liste des projets"),n,p))}}]),t}(n.Component),Tt=Object(u.b)(function(e){return{auth:e.auth,final:e.final,judge:e.judge,project:e.project,error:e.error,message:e.message}},{GetJudgeProject:function(e,t){return function(a){B.a.get("/api/judge/projects",{params:{finalId:e,judgeNumber:t}}).then(function(e){a({type:"GET_JUDGE_PROJECTS",payload:e.data}),a({type:N,payload:{type:"GET_JUDGE_PROJECTS",response:"success"}}),a({type:y})}).catch(function(e){a({type:N,payload:{type:"GET_JUDGE_PROJECTS",response:"fail"}}),a({type:b,payload:e.response.data})})}},SelectFinalById:re,CheckFinalActive:ne})(Ft),Rt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){if(!j(a.props.results)&&!j(a.props.results[a.props.id])){var e=a.props.results[a.props.id].grade,t=document.querySelector('input.grid-button[name="'.concat(a.props.id,'"][value="').concat(e,'"]'));t.value=e,a.ActivateRadio(t.parentNode)}},a.CalcPercentage=function(e,t){return e*t/10},a.OnHandleRadio=function(e){a.ClearRadio(e.target.name),a.ActivateRadio(e.target.parentNode);var t=a.CalcPercentage(e.target.value,a.props.percentage);a.props.OnCompleteCriterion({result:Object(Oe.a)({},e.target.name,e.target.value),total:t})},a.ActivateRadio=function(e){e.classList.add("active")},a.ClearRadio=function(e){document.querySelectorAll(".grid-button-label[data-value='".concat(e,"']")).forEach(function(e){e.classList.remove("active")})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"grid-button-container"},r.a.createElement("div",{className:"grid-button-group"},Object(I.a)(Array(6)).map(function(t,a){return r.a.createElement("label",{className:"grid-button-label rounded-circle",key:a,"data-value":e.props.id},a,r.a.createElement("input",{className:"grid-button",type:"radio",value:a,name:e.props.id,style:{cursor:"pointer"},onChange:e.OnHandleRadio,onClick:e.OnHandleRadio,onTouchStart:e.OnHandleRadio}))})),r.a.createElement("div",{className:"grid-button-group"},Object(I.a)(Array(5)).map(function(t,a){return r.a.createElement("label",{className:"grid-button-label rounded-circle",key:a+6,"data-value":e.props.id},a+6,r.a.createElement("input",{className:"grid-button",type:"radio",value:a+6,name:e.props.id,style:{cursor:"pointer"},onChange:e.OnHandleRadio,onClick:e.OnHandleRadio,onTouchStart:e.OnHandleRadio}))})));return r.a.createElement(n.Fragment,null,t)}}]),t}(n.Component),Pt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=a.props.subsection.criterions[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;j(a.props.results)||j(a.props.results[o.id])||a.setState(Object(Oe.a)({},o.id,a.props.results[o.id].grade.toString()))}}catch(s){t=!0,n=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},a.OnCompleteCriterion=function(e){a.props.OnHandleInput(e),a.setState(Object(Oe.a)({},Object.keys(e.result)[0],e.result[Object.keys(e.result)[0]]))},a.CheckIfCompleted=function(){},a.state={completed:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.subsection,a=t.criterions.map(function(t,a){return r.a.createElement("div",{className:"row my-2 py-2",key:a},r.a.createElement("div",{className:"col-md-12 row"},r.a.createElement("div",{className:"col-1"},e.state[t.id]&&r.a.createElement("span",{className:"criterion-check"},r.a.createElement("i",{className:"fas fa-check"}))),r.a.createElement("div",{className:Ae()("col-9",{"criterion-check":e.state[t.id]})},t.description),r.a.createElement("div",{className:"col-1"},t.percentage,"%"),r.a.createElement("div",{className:"col-12 row"},r.a.createElement("div",{className:"col-1"}),r.a.createElement("div",{className:"col-10"},t.notes&&r.a.createElement("span",{className:"criterion-notes"},r.a.createElement("small",null,t.notes))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Rt,{name:t.name,id:t.id,percentage:t.percentage,results:e.props.results,OnCompleteCriterion:e.OnCompleteCriterion})))});return r.a.createElement("div",{className:Ae()("evaluation-subsection px-4 pt-4",{isComplete:this.props.isComplete})},r.a.createElement("h5",{className:""},r.a.createElement("strong",null,t.name," - ",t.percentage,"%")),a)}}]),t}(n.Component),_t=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.section,a=t.subsections.map(function(t,a){return r.a.createElement(Pt,{subsection:t,key:a,isComplete:e.props.isComplete,results:e.props.results,OnHandleInput:e.props.OnHandleInput})});return r.a.createElement("div",{className:"evaluation-section my-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto text-center"},r.a.createElement("h2",null,"Section ",t.name.toLowerCase()," - ",t.percentage,"%"))),a)}}]),t}(n.Component),Lt={level:"highschool",name:"Grille d'\xe9valuation pour un projet de conception, volet secondaire/coll\xe9gial",type:"CONCEPTION",sections:[{name:"Scientifique",percentage:60,subsections:[{name:"Probl\xe9matique",percentage:12,criterions:[{id:"1A",description:"Compr\xe9hension des principes",percentage:4},{id:"1B",description:"D\xe9finition du probl\xe8me",percentage:3},{id:"1C",description:"Recherche d'informations et identification des contraintes",percentage:3},{id:"1D",description:"\xc9tablissement des objectifs",percentage:2}]},{name:"Conception",percentage:10,criterions:[{id:"2A",description:"Qualit\xe9 des sch\xe9mas",percentage:4},{id:"2B",description:"Optimisation des solutions",percentage:4},{id:"2C",description:"Apparence (fini du prototype, robustesse, qualit\xe9s artisanales",percentage:2}]},{name:"Analyse du produit",percentage:25,criterions:[{id:"3A",description:"Coh\xe9rence des explications",percentage:7},{id:"3B",description:"D\xe9monstration du rendement et fonctionnalit\xe9",percentage:7},{id:"3C",description:"Aspect innovateur",percentage:6},{id:"3D",description:"Pertinence des crit\xe8res d'\xe9valuation",percentage:5}]},{name:"Bilan",percentage:13,criterions:[{id:"4A",description:"Perspectives d'utilisation et d'application possibles",percentage:4},{id:"4B",description:"Recommandations, am\xe9liorations et suites ",percentage:4},{id:"4C",description:"Justification de l'ampleur de la solution par rapport aux objectifs initiaux",percentage:5}]}]},{name:"Communication",percentage:28,subsections:[{name:"Animation du stand",percentage:14,criterions:[{id:"5A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:6},{id:"5B",description:"Dynamisme de la pr\xe9sentation et enthousiasme",percentage:5},{id:"5C",description:"Vulgarisation et utilisation du langage appropri\xe9",percentage:3}]},{name:"Pr\xe9sentation visuelle",percentage:14,criterions:[{id:"6A",description:"\xc9laboration d'une pr\xe9sentation attrayante et originale",percentage:7},{id:"6B",description:"Clart\xe9",notes:"Ordre et lisibilit\xe9 des \xe9l\xe9ments de pr\xe9sentation de fa\xe7on \xe0 faciliter le suivi de l'expos\xe9",percentage:5},{id:"6C",description:"Qualit\xe9 de la langue \xe9crite et de la terminologie employ\xe9e",percentage:2}]}]}]},Dt={level:"highschool",name:"Grille d'\xe9valuation pour un projet en exp\xe9rimentation, volet secondaire/coll\xe9gial",type:"EXPERIMENTATION",sections:[{name:"Scientifique",percentage:60,subsections:[{name:"Identification de la probl\xe9matique",percentage:10,criterions:[{id:"1A",description:"Connaissance et originalit\xe9 de la probl\xe9matique",notes:"Interrogation pertinente sur un ph\xe9nom\xe8ne donn\xe9.",percentage:7},{id:"1B",description:"Buts clairement \xe9tablis",percentage:3}]},{name:"\xc9laboration et suivi du protocole exp\xe9rimental",percentage:22,criterions:[{id:"2A",description:"\xc9tablissement d'une hypoth\xe8se de travail et identification des variables \xe0 \xe9tudier",percentage:4},{id:"2B",description:"Description du protocol exp\xe9rimental",percentage:4},{id:"2C",description:"Choix et utilisation ad\xe9quate des instruments scientifiques",percentage:2},{id:"2D",description:"Exp\xe9rimentation",notes:"Exp\xe9riences en laboratoires ou manipulations.\nConsignation des observations donn\xe9es.",percentage:12}]},{name:"Analyse et interpr\xe9tation des r\xe9sultats",percentage:20,criterions:[{id:"3A",description:"Utilisation ad\xe9quate des donn\xe9es recueillies et de la terminologie",percentage:7},{id:"3B",description:"Justesse du raisonnement",notes:"\xc9tablissement d'un lien structur\xe9 entre les r\xe9sultats",percentage:6},{id:"3C",description:"Coh\xe9rence des explications",percentage:4},{id:"3D",description:"Reconnaissance des erreurs et r\xe9ajustement",percentage:3}]},{name:"Conclusion",percentage:8,criterions:[{id:"4A",description:"Synth\xe8se",notes:"Reprise des principaux points de l'analyse",percentage:5},{id:"4B",description:"Recommandations, suggestions de suites possibles, mise en perspective et pr\xe9sentation des applications",percentage:3}]}]},{name:"Communication",percentage:28,subsections:[{name:"Animation du stand",percentage:14,criterions:[{id:"5A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:6},{id:"5B",description:"Dynamisme de la pr\xe9sentation et enthousiasme",percentage:5},{id:"5C",description:"Vulgarisation et utilisation du langage appropri\xe9",percentage:3}]},{name:"Pr\xe9sentation visuelle",percentage:14,criterions:[{id:"6A",description:"Soutien appropri\xe9 \xe0 l'animation et \xe0 la compr\xe9hension",percentage:6},{id:"6B",description:"Clart\xe9",notes:"Ordre et lisibilit\xe9 des \xe9l\xe9ments de pr\xe9sentation de fa\xe7on \xe0 faciliter le suivi de l'expos\xe9",percentage:5},{id:"6C",description:"Qualit\xe9 de la langue \xe9crite et de la terminologie employ\xe9e",percentage:3}]}]}]},Jt={level:"highschool",name:"Grille d'\xe9valuation pour un projet en vulgarisation, volet secondaire/coll\xe9gial",type:"Vulgarisation",sections:[{name:"Scientifique",percentage:60,subsections:[{name:"Choix du sujet",percentage:8,criterions:[{id:"1A",description:"Connaissance et originalit\xe9 de la probl\xe9matique",percentage:4},{id:"1B",description:"Objectifs de la recherche clairement d\xe9finis",percentage:4}]},{name:"S\xe9lection de l'information",percentage:14,criterions:[{id:"2A",description:"Vari\xe9t\xe9 ",notes:"Information compl\xe8te et sources diversifi\xe9es et r\xe9centes",percentage:4},{id:"2B",description:"Fiabilit\xe9 et pertinence",notes:"Information factuelle et appuy\xe9e par diverses publications sur le sujet. Information divulgu\xe9e en relation avec le ph\xe9nom\xe8ne \xe9tudi\xe9",percentage:10}]},{name:"Compr\xe9hension du sujet trait\xe9",percentage:17,criterions:[{id:"3A",description:"Compr\xe9hension et ma\xeetrise du sujet",notes:"Capacit\xe9 de transmettre l'information avec clart\xe9.\nCapacit\xe9 de faire des liens ad\xe9quats avec le sujet",percentage:6},{id:"3B",description:"R\xe9flexion",notes:"Capacit\xe9 de d\xe9gager les conclusions de l'\xe9tude",percentage:5},{id:"3C",description:"D\xe9monstration des acquis",notes:"Capacit\xe9 de r\xe9pondre aux questions.\nCapacit\xe9 de d\xe9gager des applications concr\xe8tes et de nouvelles avenues.\nCapacit\xe9 de faire preuve de sens critique.",percentage:6}]},{name:"Traitement de l'information",percentage:8,criterions:[{id:"4A",description:"Structure et coh\xe9rence",notes:"Information recueillie pr\xe9sent\xe9e selon une suite logique et de complexit\xe9 croissance facilitant la compr\xe9hension de l'auditoire",percentage:5},{id:"4B",description:"Utilisation appropri\xe9e de la terminologie",percentage:3}]},{name:"Approche et pr\xe9sentation novatrice",percentage:13,criterions:[{id:"5A",description:"Traitement cr\xe9atif et originalit\xe9",notes:"Support p\xe9dagogique illustrant la th\xe9orie, sch\xe9mas, tableaux, synoptiques et objets",percentage:13}]}]},{name:"Communication",percentage:28,subsections:[{name:"Animation du stand",percentage:14,criterions:[{id:"6A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:6},{id:"6B",description:"Dynamisme de la pr\xe9sentation et enthousiasme",percentage:5},{id:"6C",description:"Vulgarisation et utilisation du langage appropri\xe9",percentage:3}]},{name:"Pr\xe9sentation visuelle",percentage:14,criterions:[{id:"7A",description:"Soutien appropri\xe9 \xe0 l'animation et \xe0 la compr\xe9hension",percentage:6},{id:"7B",description:"Clart\xe9",notes:"Ordre et lisibilit\xe9 des \xe9l\xe9ments de pr\xe9sentation de fa\xe7on \xe0 faciliter le suivi de l'expos\xe9",percentage:5},{id:"7C",description:"Qualit\xe9 de la langue \xe9crite et de la terminologie employ\xe9e",percentage:3}]}]}]},Mt={level:"highschool",name:"Grille d'\xe9valuation pour un projet de conception, volet secondaire/coll\xe9gial",type:"CONCEPTION",sections:[{name:"Scientifique",percentage:60,subsections:[{name:"Probl\xe9matique",percentage:12,criterions:[{id:"1A",description:"Compr\xe9hension des principes",percentage:4},{id:"1B",description:"D\xe9finition du probl\xe8me",percentage:3},{id:"1C",description:"Recherche d'informations et identification des contraintes",percentage:3},{id:"1D",description:"\xc9tablissement des objectifs",percentage:2}]},{name:"Conception",percentage:10,criterions:[{id:"2A",description:"Qualit\xe9 des sch\xe9mas",percentage:4},{id:"2B",description:"Optimisation des solutions",percentage:4},{id:"2C",description:"Apparence (fini du prototype, robustesse, qualit\xe9s artisanales",percentage:2}]},{name:"Analyse du produit",percentage:25,criterions:[{id:"3A",description:"Coh\xe9rence des explications",percentage:7},{id:"3B",description:"D\xe9monstration du rendement et fonctionnalit\xe9",percentage:7},{id:"3C",description:"Aspect innovateur",percentage:6},{id:"3D",description:"Pertinence des crit\xe8res d'\xe9valuation",percentage:5}]},{name:"Bilan",percentage:13,criterions:[{id:"4A",description:"Perspectives d'utilisation et d'application possibles",percentage:4},{id:"4B",description:"Recommandations, am\xe9liorations et suites ",percentage:4},{id:"4C",description:"Justification de l'ampleur de la solution par rapport aux objectifs initiaux",percentage:5}]}]},{name:"Communication",percentage:40,subsections:[{name:"Animation du stand",percentage:14,criterions:[{id:"5A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:6},{id:"5B",description:"Dynamisme de la pr\xe9sentation et enthousiasme",percentage:5},{id:"5C",description:"Vulgarisation et utilisation du langage appropri\xe9",percentage:3}]},{name:"Pr\xe9sentation visuelle",percentage:14,criterions:[{id:"6A",description:"\xc9laboration d'une pr\xe9sentation attrayante et originale",percentage:7},{id:"6B",description:"Clart\xe9",notes:"Ordre et lisibilit\xe9 des \xe9l\xe9ments de pr\xe9sentation de fa\xe7on \xe0 faciliter le suivi de l'expos\xe9",percentage:5},{id:"6C",description:"Qualit\xe9 de la langue \xe9crite et de la terminologie employ\xe9e",percentage:2}]},{name:"Rapport \xe9crit et bibliographie",percentage:12,chiefJudgeOnly:"true",criterions:[{id:"7A",description:"R\xe9sum\xe9 du projet et contenu",notes:"Page titre, introduction, r\xe9sultats et analyse, conclusion",percentage:6},{id:"7B",description:"Pr\xe9sentation g\xe9n\xe9rale",notes:"Qualit\xe9 de la langue, lisibilit\xe9, a\xe9ration du texte",percentage:2},{id:"7C",description:"Pr\xe9sence de bibliographie et int\xe9grit\xe9",notes:"Bibliographie conforme aux sources d'information consult\xe9es pour l'ensemble du projet",percentage:4}]}]}]},Bt={level:"highschool",name:"Grille d'\xe9valuation pour un projet en exp\xe9rimentation, volet secondaire/coll\xe9gial",type:"EXPERIMENTATION",sections:[{name:"Scientifique",percentage:60,subsections:[{name:"Identification de la probl\xe9matique",percentage:10,criterions:[{id:"1A",description:"Connaissance et originalit\xe9 de la probl\xe9matique",notes:"Interrogation pertinente sur un ph\xe9nom\xe8ne donn\xe9.",percentage:7},{id:"1B",description:"Buts clairement \xe9tablis",percentage:3}]},{name:"\xc9laboration et suivi du protocole exp\xe9rimental",percentage:22,criterions:[{id:"2A",description:"\xc9tablissement d'une hypoth\xe8se de travail et identification des variables \xe0 \xe9tudier",percentage:4},{id:"2B",description:"Description du protocol exp\xe9rimental",percentage:4},{id:"2C",description:"Choix et utilisation ad\xe9quate des instruments scientifiques",percentage:2},{id:"2D",description:"Exp\xe9rimentation",notes:"Exp\xe9riences en laboratoires ou manipulations.\nConsignation des observations donn\xe9es.",percentage:12}]},{name:"Analyse et interpr\xe9tation des r\xe9sultats",percentage:20,criterions:[{id:"3A",description:"Utilisation ad\xe9quate des donn\xe9es recueillies et de la terminologie",percentage:7},{id:"3B",description:"Justesse du raisonnement",notes:"\xc9tablissement d'un lien structur\xe9 entre les r\xe9sultats",percentage:6},{id:"3C",description:"Coh\xe9rence des explications",percentage:4},{id:"3D",description:"Reconnaissance des erreurs et r\xe9ajustement",percentage:3}]},{name:"Conclusion",percentage:8,criterions:[{id:"4A",description:"Synth\xe8se",notes:"Reprise des principaux points de l'analyse",percentage:5},{id:"4B",description:"Recommandations, suggestions de suites possibles, mise en perspective et pr\xe9sentation des applications",percentage:3}]}]},{name:"Communication",percentage:40,subsections:[{name:"Animation du stand",percentage:14,criterions:[{id:"5A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:6},{id:"5B",description:"Dynamisme de la pr\xe9sentation et enthousiasme",percentage:5},{id:"5C",description:"Vulgarisation et utilisation du langage appropri\xe9",percentage:3}]},{name:"Pr\xe9sentation visuelle",percentage:14,criterions:[{id:"6A",description:"Soutien appropri\xe9 \xe0 l'animation et \xe0 la compr\xe9hension",percentage:6},{id:"6B",description:"Clart\xe9",notes:"Ordre et lisibilit\xe9 des \xe9l\xe9ments de pr\xe9sentation de fa\xe7on \xe0 faciliter le suivi de l'expos\xe9",percentage:5},{id:"6C",description:"Qualit\xe9 de la langue \xe9crite et de la terminologie employ\xe9e",percentage:3}]},{name:"Rapport \xe9crit et bibliographie",percentage:12,chiefJudgeOnly:"true",criterions:[{id:"7A",description:"R\xe9sum\xe9 du projet et contenu",notes:"Page titre, introduction, r\xe9sultats et analyse, conclusion",percentage:6},{id:"7B",description:"Pr\xe9sentation g\xe9n\xe9rale",notes:"Qualit\xe9 de la langue, lisibilit\xe9, a\xe9ration du texte",percentage:2},{id:"7C",description:"Pr\xe9sence de bibliographie et int\xe9grit\xe9",notes:"Bibliographie conforme aux sources d'information consult\xe9es pour l'ensemble du projet",percentage:4}]}]}]},Gt={level:"highschool",name:"Grille d'\xe9valuation pour un projet en vulgarisation, volet secondaire/coll\xe9gial",type:"Vulgarisation",sections:[{name:"Scientifique",percentage:60,subsections:[{name:"Choix du sujet",percentage:8,criterions:[{id:"1A",description:"Connaissance et originalit\xe9 de la probl\xe9matique",percentage:4},{id:"1B",description:"Objectifs de la recherche clairement d\xe9finis",percentage:4}]},{name:"S\xe9lection de l'information",percentage:14,criterions:[{id:"2A",description:"Vari\xe9t\xe9 ",notes:"Information compl\xe8te et sources diversifi\xe9es et r\xe9centes",percentage:4},{id:"2B",description:"Fiabilit\xe9 et pertinence",notes:"Information factuelle et appuy\xe9e par diverses publications sur le sujet. Information divulgu\xe9e en relation avec le ph\xe9nom\xe8ne \xe9tudi\xe9",percentage:10}]},{name:"Compr\xe9hension du sujet trait\xe9",percentage:17,criterions:[{id:"3A",description:"Compr\xe9hension et ma\xeetrise du sujet",notes:"Capacit\xe9 de transmettre l'information avec clart\xe9.\nCapacit\xe9 de faire des liens ad\xe9quats avec le sujet",percentage:6},{id:"3B",description:"R\xe9flexion",notes:"Capacit\xe9 de d\xe9gager les conclusions de l'\xe9tude",percentage:5},{id:"3C",description:"D\xe9monstration des acquis",notes:"Capacit\xe9 de r\xe9pondre aux questions.\nCapacit\xe9 de d\xe9gager des applications concr\xe8tes et de nouvelles avenues.\nCapacit\xe9 de faire preuve de sens critique.",percentage:6}]},{name:"Traitement de l'information",percentage:8,criterions:[{id:"4A",description:"Structure et coh\xe9rence",notes:"Information recueillie pr\xe9sent\xe9e selon une suite logique et de complexit\xe9 croissance facilitant la compr\xe9hension de l'auditoire",percentage:5},{id:"4B",description:"Utilisation appropri\xe9e de la terminologie",percentage:3}]},{name:"Approche et pr\xe9sentation novatrice",percentage:13,criterions:[{id:"5A",description:"Traitement cr\xe9atif et originalit\xe9",notes:"Support p\xe9dagogique illustrant la th\xe9orie, sch\xe9mas, tableaux, synoptiques et objets",percentage:13}]}]},{name:"Communication",percentage:40,subsections:[{name:"Animation du stand",percentage:14,criterions:[{id:"6A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:6},{id:"6B",description:"Dynamisme de la pr\xe9sentation et enthousiasme",percentage:5},{id:"6C",description:"Vulgarisation et utilisation du langage appropri\xe9",percentage:3}]},{name:"Pr\xe9sentation visuelle",percentage:14,criterions:[{id:"7A",description:"Soutien appropri\xe9 \xe0 l'animation et \xe0 la compr\xe9hension",percentage:6},{id:"7B",description:"Clart\xe9",notes:"Ordre et lisibilit\xe9 des \xe9l\xe9ments de pr\xe9sentation de fa\xe7on \xe0 faciliter le suivi de l'expos\xe9",percentage:5},{id:"7C",description:"Qualit\xe9 de la langue \xe9crite et de la terminologie employ\xe9e",percentage:3}]},{name:"Rapport \xe9crit et bibliographie",percentage:12,chiefJudgeOnly:"true",criterions:[{id:"8A",description:"R\xe9sum\xe9 du projet et contenu",notes:"Page titre, introduction, r\xe9sultats et analyse, conclusion",percentage:6},{id:"8B",description:"Pr\xe9sentation g\xe9n\xe9rale",notes:"Qualit\xe9 de la langue, lisibilit\xe9, a\xe9ration du texte",percentage:2},{id:"8C",description:"Pr\xe9sence de bibliographie et int\xe9grit\xe9",notes:"Bibliographie conforme aux sources d'information consult\xe9es pour l'ensemble du projet",percentage:4}]}]}]},qt={level:"elementary",name:"Grille d'\xe9valuation pour un projet de conception, volet primaire",type:"CONCEPTION",sections:[{name:"Scientifique",percentage:50,subsections:[{name:"Probl\xe9matique",percentage:10,criterions:[{id:"1A",description:"Probl\xe9matique",notes:"La probl\xe9matique est-elle bien d\xe9finie?\nD'o\xf9 vient l'int\xe9r\xeat pour la probl\xe9matique?",percentage:10}]},{name:"Conception",percentage:10,criterions:[{id:"2A",description:"Conception",notes:"Les croquis et les sch\xe9mas sont-ils de qualit\xe9?",percentage:10}]},{name:"Analyse du produit",percentage:17,criterions:[{id:"3A",description:"Analyse du produit",notes:"La d\xe9monstration de la fonctionnalit\xe9 est-elle convaincante?",percentage:17}]},{name:"Bilan",percentage:13,criterions:[{id:"4A",description:"Les perspectives d'utilisation et d'application sont-elles rencontr\xe9es?",percentage:13}]}]},{name:"Apprentissage",percentage:20,subsections:[{name:"Apprentissage",percentage:20,criterions:[{id:"5A",description:"Apprentissage",percentage:20}]}]},{name:"Communication",percentage:30,subsections:[{name:"Animation du stand",percentage:15,criterions:[{id:"6A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:15}]},{name:"Pr\xe9sentation visuelle",percentage:15,criterions:[{id:"7A",description:"\xc9laboration d'une pr\xe9sentation attrayante et originale",percentage:15}]}]}]},Ut={level:"elementary",name:"Grille d'\xe9valuation pour un projet en exp\xe9rimentation, volet primaire",type:"EXPERIMENTATION",sections:[{name:"Scientifique",percentage:50,subsections:[{name:"Identification de la probl\xe9matique",percentage:8,criterions:[{id:"1A",description:"Connaissance et originalit\xe9 de la probl\xe9matique",notes:"Interrogation pertinente sur un ph\xe9nom\xe8ne donn\xe9.",percentage:8}]},{name:"\xc9laboration et suivi du protocole exp\xe9rimental",percentage:18,criterions:[{id:"2A",description:"\xc9tablissement d'une hypoth\xe8se de travail et identification des variables \xe0 \xe9tudier",percentage:18}]},{name:"Analyse et interpr\xe9tation des r\xe9sultats",percentage:17,criterions:[{id:"3A",description:"Utilisation ad\xe9quate des donn\xe9es recueillies et de la terminologie",percentage:17}]},{name:"Conclusion",percentage:7,criterions:[{id:"4A",description:"Synth\xe8se",notes:"Reprise des principaux points de l'analyse",percentage:7}]}]},{name:"Apprentissage",percentage:20,subsections:[{name:"Apprentissage",percentage:20,criterions:[{id:"5A",description:"Apprentissage",percentage:20}]}]},{name:"Communication",percentage:30,subsections:[{name:"Animation du stand",percentage:15,criterions:[{id:"6A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:15}]},{name:"Pr\xe9sentation visuelle",percentage:15,criterions:[{id:"7A",description:"Soutien appropri\xe9 \xe0 l'animation et \xe0 la compr\xe9hension",percentage:15}]}]}]},Vt={level:"elementary",name:"Grille d'\xe9valuation pour un projet en vulgarisation, volet primaire",type:"Vulgarisation",sections:[{name:"Scientifique",percentage:50,subsections:[{name:"Choix du sujet",percentage:9,criterions:[{id:"1A",description:"Connaissance et originalit\xe9 de la probl\xe9matique",percentage:9}]},{name:"S\xe9lection de l'information",percentage:12,criterions:[{id:"2A",description:"Vari\xe9t\xe9 ",notes:"Information compl\xe8te et sources diversifi\xe9es et r\xe9centes",percentage:12}]},{name:"Compr\xe9hension du sujet trait\xe9",percentage:15,criterions:[{id:"3A",description:"Compr\xe9hension et ma\xeetrise du sujet",notes:"Capacit\xe9 de transmettre l'information avec clart\xe9.\nCapacit\xe9 de faire des liens ad\xe9quats avec le sujet",percentage:15}]},{name:"Traitement de l'information",percentage:9,criterions:[{id:"4A",description:"Structure et coh\xe9rence",notes:"Information recueillie pr\xe9sent\xe9e selon une suite logique et de complexit\xe9 croissance facilitant la compr\xe9hension de l'auditoire",percentage:9}]},{name:"Approche et pr\xe9sentation novatrice",percentage:5,criterions:[{id:"5A",description:"Traitement cr\xe9atif et originalit\xe9",notes:"Support p\xe9dagogique illustrant la th\xe9orie, sch\xe9mas, tableaux, synoptiques et objets",percentage:5}]}]},{name:"Apprentissage",percentage:20,subsections:[{name:"Apprentissage",percentage:20,criterions:[{id:"6A",description:"Apprentissage",percentage:20}]}]},{name:"Communication",percentage:30,subsections:[{name:"Animation du stand",percentage:15,criterions:[{id:"7A",description:"Interaction avec l'auditoire et gestion du temps",notes:"Capacit\xe9 de susciter l'int\xe9r\xeat et la participation de l'auditoire.\n Capacit\xe9 d'\xe9valuer la compr\xe9hension et de r\xe9pondre ad\xe9quatement aux questions.\n Capacit\xe9 de respecter le temps allou\xe9 \xe0 la pr\xe9sentation",percentage:15}]},{name:"Pr\xe9sentation visuelle",percentage:15,criterions:[{id:"8A",description:"Soutien appropri\xe9 \xe0 l'animation et \xe0 la compr\xe9hension",percentage:15}]}]}]},zt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.CheckFinalActive(a.props.auth.user.finalId),a.props.GetProjectInfos(a.props.location.state.finalId,a.props.location.state.project),j(a.props.location.state.results)||a.setState({results:a.props.location.state.results.results},function(){if(a.setState({isComplete:a.CheckIfComplete()}),a.props.location.state.isAdmin){var e=a.CalculateTotal(),t=e.total,n=e.totalInternational;a.setState({total:t,totalInternational:n})}})},a.componentWillUnmount=function(){a.props.ClearProjectInfos(),a.props.CheckFinalActive(a.props.auth.user.finalId)},a.componentDidUpdate=function(e,t){e.project.selectedProject===a.props.project.selectedProject||j(a.props.project.selectedProject)||a.setState({type:a.props.project.selectedProject.information.projectInformation.type,level:a.props.final.selectedFinal.level,isSuperExpo:a.props.final.selectedFinal.isSuperExpo},function(){a.setState({grid:a.SelectGrid(a.state.type,a.state.level,a.state.isSuperExpo)},function(){if(a.InitializeResult(),a.props.location.state.isAdmin){var e=a.CalculateTotal(),t=e.total,n=e.totalInternational;a.setState({total:t,totalInternational:n})}})})},a.SelectGrid=function(e,t,a){if(!a){if("highschool"===t)switch(e){case"vulgarization":return Gt;case"experimentation":return Bt;case"conception":return Mt;default:return null}else if("elementary"===t)switch(e){case"vulgarization":return Vt;case"experimentation":return Ut;case"conception":return qt;default:return null}return null}if("highschool"===t)switch(e){case"vulgarization":return Jt;case"experimentation":return Dt;case"conception":return Lt;default:return null}},a.InitializeResult=function(){var e={},t=1,n=1;if(a.state.grid.sections.map(function(a,r){return a.subsections.map(function(a,r){return n=1,a.criterions.map(function(a,r){return n=String.fromCharCode(r+65),e["".concat(t).concat(n)]={},n++,!0}),t++,!0}),!0}),!j(a.props.location.state.results))for(var r in a.props.location.state.results.results)e[r]=a.props.location.state.results.results[r];a.setState({results:e},function(){a.setState({isComplete:a.CheckIfComplete()})})},a.ResetResults=function(){a.props.location.state.isAdmin},a.FormatType=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"vulgarization":a=t?"V":"Vulgarisation";break;case"conception":a=t?"C":"Conception";break;case"experimentation":a=t?"E":"Exp\xe9rimentation"}return a},a.FormatCategory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="";switch(e){case"health_sciences":a=t?"SS":"Sciences de la sant\xe9";break;case"engeneering_computer_science":a=t?"INGI":"Ing\xe9nierie et sciences informatiques";break;case"physics_mathematic_sciences":a=t?"SPM":"Sciences physiques et math\xe9matiques";break;case"earth_environment_sciences":a=t?"STE":"Sciences de la Terre et de l'environnement";break;case"human_social_sciences":a=t?"SH":"Sciences humaines et sociales";break;case"life_sciences":a=t?"SV":"Sciences de la vie"}return a},a.OnHandleInput=function(e){var t=a.state.results,n={grade:parseInt(e.result[Object.keys(e.result)[0]]),total:parseFloat(e.total)};if(t[Object.keys(e.result)[0]]=n,a.setState({results:t},function(){a.setState({isComplete:a.CheckIfComplete()})}),a.props.location.state.isAdmin){var r=a.CalculateTotal(),i=r.total,o=r.totalInternational;a.setState({total:i,totalInternational:o})}},a.CheckIfComplete=function(){return Object.keys(a.state.results).every(function(e){return!j(a.state.results[e])})},a.CalculateTotal=function(){var e=a.state.results,t=0,n=0;for(var r in e)if(!j(e[r].total)&&(t+=e[r].total,"highschool"===a.props.final.selectedFinal.level))switch(n+=e[r].total,a.state.type){case"vulgarization":"6A"!==r&&"6B"!==r&&"6C"!==r||(n+=e[r].total);break;case"conception":case"experimentation":"5A"!==r&&"5B"!==r&&"5C"!==r||(n+=e[r].total)}return{total:t,totalInternational:n}},a.SaveResults=function(){if(a.props.CheckFinalActive(),!a.props.final.isActive&&!a.props.location.state.isAdmin)return a.props.history.push("/");var e=a.props.location.state.finalId,t=a.props.location.state.judge,n=a.props.location.state.project,r=a.props.location.state.period,i=a.CheckIfComplete(),o=a.props.location.state.isAdmin,s=a.state.results;if(j(e)||j(t)||j(n)||j(r)||j(s))return!1;var l=a.CalculateTotal(),c=l.total,m=l.totalInternational;a.props.SaveResult(e,t,n,r,s,c,m,i,o,a.props.history)},a.state={type:"",grid:{level:"",name:"",sections:[],type:""},results:null,isComplete:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.project.selectedProject,a=this.state.grid.sections.map(function(t,a){return r.a.createElement(_t,{section:t,key:a,isComplete:e.state.isComplete,results:e.state.results,OnHandleInput:e.OnHandleInput})});return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"bg py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 mx-auto text-center"},r.a.createElement("h1",null,"\xc9valuation du projet ",this.props.location.state.project))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9 mx-auto text-center text-uppercase"},r.a.createElement("h4",null,r.a.createElement("strong",null,t&&t.information.projectInformation.title))),r.a.createElement("div",{className:"col-md-8 mx-auto text-center"},t&&r.a.createElement("h5",null,this.FormatType(t.information.projectInformation.type))),r.a.createElement("div",{className:"col-md-8 mx-auto text-center"},t&&r.a.createElement("h5",null,this.FormatCategory(t.information.projectInformation.category))),r.a.createElement("div",{className:"col-md-8 mx-auto text-center"},r.a.createElement("div",{className:"text-center"},"Juge ",this.props.location.state.judge),r.a.createElement("div",{className:"text-center"}," ","P\xe9riode"," ",String.fromCharCode(64+parseInt(this.props.location.state.period)))),this.props.location.state.isAdmin&&r.a.createElement("div",{className:"col-md-8 mx-auto text-center"},r.a.createElement("h6",null,this.state.total&&this.state.total.toFixed(4)," / 100"),r.a.createElement(pe.a,{to:"/admin/finale/".concat(this.props.location.state.finalId,"/vue-projets"),className:"text-link"},r.a.createElement("i",{className:"fas fa-reply"})," Retour aux projets"))),a,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mx-auto my-5"},r.a.createElement("div",{className:Ae()("btn","btn-block","btn-reseau",{"btn-success ":this.state.isComplete},{"btn-danger":!this.state.isComplete}),onClick:this.SaveResults},this.state.isComplete?r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-save"})),"\u2003 Jugement complet. Enregistrer"):r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-exclamation-triangle"})),"\u2003 Jugement incomplet. Enregistrer malgr\xe9 tout."))),r.a.createElement("div",{className:"col-md-6 mx-auto my-5"},r.a.createElement("div",{className:"btn btn-reseau btn-block"},this.props.location.state.isAdmin?r.a.createElement(pe.a,{to:"/admin/finale/".concat(this.props.location.state.finalId,"/vue-projets")},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-times"})),"\u2003 Ne pas enregister les modifications"):r.a.createElement(pe.a,{to:"/mon-jugement"},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-times"})),"\u2003 Ne pas enregister les modifications")))))))}}]),t}(n.Component),Ht=Object(u.b)(function(e){return{auth:e.auth,final:e.final,project:e.project,error:e.error,message:e.message}},{GetProjectInfos:function(e,t){return function(a){B.a.get("/api/project/number",{params:{finalId:e,projectNumber:t}}).then(function(e){a({type:"GET_PROJECT",payload:e.data}),a({type:N,payload:{type:"GET_PROJECT",response:"success"}}),a({type:y})}).catch(function(e){console.log(e),a({type:N,payload:{type:"GET_PROJECT",response:"fail"}}),a({type:b,payload:e.response.data})})}},ClearProjectInfos:function(){return function(e){e({type:"CLEAR_PROJECT_INFOS"})}},SaveResult:function(e,t,a,n,r,i,o,s,l,c){return function(m){B.a.post("/api/final/save-result",{finalId:e,judgeNumber:t,projectNumber:a,period:n,results:r,total:i,totalInternational:o,isComplete:s}).then(function(e){m({type:N,payload:{type:"SAVE_RESULT",response:"success"}}),m({type:y})}).then(function(t){l?(m(re(e)),c.push("/admin/finale/".concat(e,"/vue-projets"))):c.push("/mon-jugement")}).catch(function(e){console.log(e),m({type:N,payload:{type:"SAVE_RESULT",response:"fail"}}),m({type:b,payload:e.response.data})})}},CheckFinalActive:ne})(zt);if(localStorage.jwtToken){G(localStorage.jwtToken);var Wt=U()(localStorage.jwtToken);J.dispatch(V(Wt));var Qt=Date.now()/1e3;Wt.exp<Qt&&(J.dispatch(z()),window.location.href="/")}var Xt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,{store:J},r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(f.a,null,r.a.createElement(g.a,{exact:!0,path:"/",component:xt}),r.a.createElement(me,{exact:!0,path:"/mon-jugement",component:Tt}),r.a.createElement(me,{exact:!0,path:"/projet/*",component:Ht}),r.a.createElement(g.a,{exact:!0,path:"/admin",component:at}),r.a.createElement(X,{exact:!0,path:"/admin/panneau-controle",component:At}),r.a.createElement(X,{exact:!0,path:"/admin/finale/*/vue-projets",component:Ke}),r.a.createElement(X,{exact:!0,path:"/admin/finale/*/vue-juges",component:Ue}),r.a.createElement(X,{exact:!0,path:"/admin/finale/*/vue-periodes",component:ze}),r.a.createElement(X,{exact:!0,path:"/admin/finale/*/infos",component:Te}),r.a.createElement(X,{exact:!0,path:"/admin/finale/*/grid/*",component:Ht}),r.a.createElement(X,{exact:!0,path:"/admin/finale/*/exportation",component:et}),r.a.createElement(Q,{exact:!0,path:"/admin/finale/*/rapports-ecrits",component:Je}),r.a.createElement(Q,{exact:!0,path:"/admin/liste-admin",component:ft}),r.a.createElement(g.a,{path:"/*",component:ue})))))}}]),t}(n.Component),Zt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $t(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(Xt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Zt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$t(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):$t(e)})}}()}},[[46,1,2]]]);
//# sourceMappingURL=main.cdced96b.chunk.js.map